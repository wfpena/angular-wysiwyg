{"version":3,"file":"main.js","mappings":"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","sources":["./projects/angular-editor-app/src/app/app.component.ts","./projects/angular-editor-app/src/app/app.component.html","./projects/angular-editor-app/src/app/app.module.ts","./projects/angular-editor-app/src/environments/environment.ts","./projects/angular-editor-app/src/main.ts","./projects/angular-editor/src/lib/ae-button/ae-button.component.ts","./projects/angular-editor/src/lib/ae-button/ae-button.component.html","./projects/angular-editor/src/lib/ae-select/ae-select.component.ts","./projects/angular-editor/src/lib/ae-select/ae-select.component.html","./projects/angular-editor/src/lib/ae-toolbar-set/ae-toolbar-set.component.ts","./projects/angular-editor/src/lib/ae-toolbar-set/ae-toolbar-set.component.html","./projects/angular-editor/src/lib/angular-editor-toolbar.component.ts","./projects/angular-editor/src/lib/angular-editor-toolbar.component.html","./projects/angular-editor/src/lib/angular-editor.component.ts","./projects/angular-editor/src/lib/angular-editor.component.html","./projects/angular-editor/src/lib/angular-editor.module.ts","./projects/angular-editor/src/lib/angular-editor.service.ts","./projects/angular-editor/src/lib/config.ts","./projects/angular-editor/src/lib/utils.ts","./projects/angular-editor/src/public-api.ts"],"sourcesContent":["import { HttpClient, HttpResponse } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport {\r\n  AngularEditorConfig,\r\n  UploadResponse,\r\n  angularEditorConfig,\r\n} from '../../../angular-editor/src/public-api';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss'],\r\n})\r\nexport class AppComponent implements OnInit {\r\n  title = 'angular-wysiwyg-app';\r\n\r\n  form: FormGroup;\r\n\r\n  htmlContent1 = '';\r\n  htmlContent2 = '';\r\n  angularEditorLogo = `<img alt=\"angular editor logo\" src=\"data:image/png;base64,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\">`;\r\n  htmlContent3 = '';\r\n\r\n  config1: AngularEditorConfig = {\r\n    editable: true,\r\n    spellcheck: true,\r\n    minHeight: '8rem',\r\n    minWidth: '160px',\r\n    // maxHeight: '15rem',\r\n    textAreaBackgroundColor: 'white',\r\n    placeholder: 'Enter text here...',\r\n    translate: 'no',\r\n    sanitize: false,\r\n    // toolbarPosition: 'top',\r\n    defaultFontName: 'Comic Sans MS',\r\n    defaultFontSize: '5',\r\n    fonts: [\r\n      ...angularEditorConfig.fonts,\r\n      { class: 'roboto-slab', name: 'RobotoSlab', label: 'Roboto Custom' },\r\n    ],\r\n    // showToolbar: false,\r\n    // defaultParagraphSeparator: 'p',\r\n    customClasses: [\r\n      {\r\n        name: 'quote',\r\n        class: 'angular-editor-quote',\r\n      },\r\n      {\r\n        name: 'redText',\r\n        class: 'redText',\r\n      },\r\n      {\r\n        name: 'titleText',\r\n        class: 'titleText',\r\n        tag: 'h1',\r\n      },\r\n    ],\r\n    // uploadUrl: 'http://localhost:9000/upload_img',\r\n    // upload: (file) => {\r\n    //   const url = 'http://localhost:9000/upload_img';\r\n    //   const uploadData: FormData = new FormData();\r\n    //   uploadData.append('file', file, file.name);\r\n    //   return this.http.post<{file:string, url: string}>(url, uploadData, {\r\n    //     // reportProgress: true,\r\n    //     observe: 'response',\r\n    //     // withCredentials: this.uploadWithCredentials,\r\n    //   })\r\n    //   .pipe(\r\n    //     map(response => {\r\n    //       const imageUrl = response.body.url;\r\n    //       return { ...response, body: { imageUrl }} as HttpResponse<UploadResponse>;\r\n    //     })\r\n    //   );\r\n    // },\r\n    editHistoryLimit: 3,\r\n    imageResizeSensitivity: 2,\r\n    // toolbarHiddenButtons: [\r\n    //   ['bold', 'italic'],\r\n    //   ['fontSize']\r\n    // ]\r\n  };\r\n\r\n  config2: AngularEditorConfig = {\r\n    editable: true,\r\n    spellcheck: true,\r\n    minHeight: '5rem',\r\n    maxHeight: '15rem',\r\n    placeholder: 'Enter text here...',\r\n    translate: 'no',\r\n    sanitize: true,\r\n    toolbarPosition: 'bottom',\r\n    defaultFontName: 'Comic Sans MS',\r\n    defaultFontSize: '5',\r\n    defaultParagraphSeparator: 'p',\r\n    customClasses: [\r\n      {\r\n        name: 'quote',\r\n        class: 'angular-editor-quote',\r\n      },\r\n      {\r\n        name: 'redText',\r\n        class: 'redText',\r\n      },\r\n      {\r\n        name: 'titleText',\r\n        class: 'titleText',\r\n        tag: 'h1',\r\n      },\r\n    ],\r\n  };\r\n\r\n  config3: AngularEditorConfig = {\r\n    ...this.config1,\r\n    ...angularEditorConfig,\r\n  };\r\n\r\n  config4: AngularEditorConfig = {\r\n    ...this.config1,\r\n    ...angularEditorConfig,\r\n    minHeight: '150px',\r\n  };\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private http: HttpClient,\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.form = this.formBuilder.group({\r\n      signature: ['', Validators.required],\r\n    });\r\n  }\r\n\r\n  onChange(event) {\r\n    console.log('changed');\r\n  }\r\n\r\n  onBlur(event) {\r\n    console.log('blur ' + event);\r\n  }\r\n\r\n  onChange2(event) {\r\n    console.warn(this.form.value);\r\n  }\r\n\r\n  onChange3(event) {}\r\n\r\n  isObject(val: any): boolean {\r\n    return this.getTypeofVariable(val) === 'object';\r\n  }\r\n\r\n  getTypeofVariable(value: any) {\r\n    return typeof value;\r\n  }\r\n}\r\n","<div class=\"container\">\r\n  <hr class=\"solid\">\r\n  <br>\r\n  <h2>Basic Example with HTML Output:</h2>\r\n  <angular-editor id=\"editor1\" [(ngModel)]=\"htmlContent1\" autofocus=\"true\" [config]=\"config1\" (ngModelChange)=\"onChange($event)\" (blur)=\"onBlur($event)\">\r\n    <ng-template #customButtons let-executeCommandFn=\"executeCommandFn\">\r\n      <ae-toolbar-set>\r\n        <ae-button iconClass=\"fa fa-html5\" title=\"Angular editor logo\" (buttonClick)=\"executeCommandFn('insertHtml', angularEditorLogo)\"></ae-button>\r\n        <!-- <ae-button iconClass=\"fa fa-file-code-o\" title=\"Code Block\" (buttonClick)=\"executeCommandFn('insertHtml', '<pre><code>dwadwadwa</code></pre>')\"></ae-button> -->\r\n      </ae-toolbar-set>\r\n    </ng-template>\r\n  </angular-editor>\r\n  <!-- <div [innerHTML]=\"htmlContent1\"></div> -->\r\n  <p class=\"html\">HTML Output:</p>\r\n  <div id=\"html-content-editor1\" class=\"html-demo-content\">{{ htmlContent1 }}</div>\r\n  <br>\r\n  <br>\r\n  <hr class=\"solid\">\r\n  <br>\r\n  <h2>Using Form Validation:</h2>\r\n  <form [formGroup]=\"form\">\r\n    <angular-editor [id]=\"'editor2'\" [config]=\"config2\" [style.width]=\"'100px'\" formControlName=\"signature\" (ngModelChange)=\"onChange2($event)\"></angular-editor>\r\n  </form>\r\n  <div>\r\n    Form Value: \r\n    <br>\r\n    <div id=\"html-content-editor2\" class=\"html-demo-content\">{{ form.value.signature }}</div>\r\n  </div>\r\n  <p>\r\n    Form Status: <span [style.color]=\"form.status === 'INVALID' ? 'red': 'green'\"><b>{{ form.status }}</b></span>\r\n  </p>\r\n  <br>\r\n  <br>\r\n</div>\r\n<hr class=\"solid\" style=\"margin: 0 60px;\">\r\n<div style=\"max-width: 80%;display: flex;align-items: center;flex-direction: column;justify-content: center;padding: 0 220px;\">\r\n  <br>\r\n  <h2 style=\"width: 100%;\">Input Configs Example and values:</h2>\r\n  <table>\r\n    <tr>\r\n      <th colspan=\"2\">Editor Configs</th>\r\n    </tr>\r\n    <tr>\r\n      <th>Name</th>\r\n      <th>Example Value</th>\r\n    </tr>\r\n    <ng-container *ngFor=\"let conf of config3 | keyvalue; index as i;\">\r\n      <tr>\r\n        <td><span style=\"font-weight: bold;\">{{conf.key}}</span></td>\r\n        <td *ngIf=\"isObject(conf.value); else elseTableBlock\"><pre>{{conf.value | json}}</pre></td>\r\n        <ng-template #elseTableBlock><td>{{conf.value}}</td></ng-template>\r\n      </tr>\r\n    </ng-container>\r\n  </table>\r\n  <br>\r\n</div>\r\n<hr class=\"solid\" style=\"margin: 0 60px;\">\r\n<div style=\"margin: 0 60px;\">\r\n  <br>\r\n  <h2 style=\"width: 100%;\">Play with the configs:</h2>\r\n  <div style=\"display: flex;flex-direction: column;align-items: center;\">\r\n    <div style=\"width: 80%;margin-bottom: 20px;\">\r\n      <angular-editor [(ngModel)]=\"htmlContent3\" [id]=\"'editor3'\" [config]=\"config4\" [style.width]=\"'100px'\" (ngModelChange)=\"onChange3($event)\"></angular-editor>\r\n    </div>\r\n    <div hidden id=\"html-content-editor3\" class=\"html-demo-content\">{{ htmlContent3 }}</div>\r\n    <div>\r\n      <table>\r\n        <tr>\r\n          <th>Name</th>\r\n          <th>Value</th>\r\n        </tr>\r\n        <ng-container *ngFor=\"let conf of config3 | keyvalue; index as i;\">\r\n          <tr *ngIf=\"getTypeofVariable(conf.value) !== 'object';\">\r\n            <td><span style=\"font-weight: bold;\">{{conf.key}}</span></td>\r\n            <td *ngIf=\"getTypeofVariable(conf.value) !== 'boolean'\"><input [(ngModel)]=\"config4[conf.key]\"></td>\r\n            <td *ngIf=\"getTypeofVariable(conf.value) === 'boolean'\"><input type=\"checkbox\" [(ngModel)]=\"config4[conf.key]\"></td>\r\n          </tr>\r\n        </ng-container>\r\n      </table>\r\n    </div>\r\n  </div>\r\n  <br>\r\n  <br>\r\n  <br>\r\n</div>\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { AngularEditorModule } from '../../../angular-editor/src/lib/angular-editor.module';\r\n\r\n@NgModule({\r\n  declarations: [AppComponent],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpClientModule,\r\n    AngularEditorModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent],\r\n})\r\nexport class AppModule {}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic()\r\n  .bootstrapModule(AppModule)\r\n  .catch((err) => console.error(err));\r\n","import {\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  Output,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ae-button',\r\n  templateUrl: './ae-button.component.html',\r\n  styleUrls: ['./ae-button.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class AeButtonComponent {\r\n  @Input() iconClass = '';\r\n  @Input() title = '';\r\n  @Output() buttonClick = new EventEmitter();\r\n\r\n  constructor() {}\r\n}\r\n","<button type=\"button\" [title]=\"title\" class=\"angular-editor-button\" (click)=\"buttonClick.emit()\" tabindex=\"-1\"><i\r\n    [class]=\"iconClass\"></i></button>\r\n\r\n","import {\r\n  Attribute,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  forwardRef,\r\n  HostBinding,\r\n  HostListener,\r\n  Input,\r\n  OnInit,\r\n  Output,\r\n  Renderer2,\r\n  ViewChild,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { isDefined } from '../utils';\r\n\r\nexport interface SelectOption {\r\n  label: string;\r\n  value: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'ae-select',\r\n  templateUrl: './ae-select.component.html',\r\n  styleUrls: ['./ae-select.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => AeSelectComponent),\r\n      multi: true,\r\n    },\r\n  ],\r\n})\r\nexport class AeSelectComponent implements OnInit, ControlValueAccessor {\r\n  @Input() options: SelectOption[] = [];\r\n  // eslint-disable-next-line @angular-eslint/no-input-rename\r\n  @Input('hidden') isHidden: boolean;\r\n\r\n  selectedOption: SelectOption;\r\n  disabled = false;\r\n  optionId = 0;\r\n\r\n  get label(): string {\r\n    return this.selectedOption && this.selectedOption.hasOwnProperty('label')\r\n      ? this.selectedOption.label\r\n      : 'Select';\r\n  }\r\n\r\n  opened = false;\r\n\r\n  get value(): string {\r\n    return this.selectedOption.value;\r\n  }\r\n\r\n  @HostBinding('style.display') hidden = 'inline-block';\r\n\r\n  // eslint-disable-next-line @angular-eslint/no-output-native, @angular-eslint/no-output-rename\r\n  @Output('change') changeEvent = new EventEmitter();\r\n\r\n  @ViewChild('labelButton', { static: true }) labelButton: ElementRef;\r\n\r\n  constructor(\r\n    private elRef: ElementRef,\r\n    private r: Renderer2,\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.selectedOption = this.options[0];\r\n    if (isDefined(this.isHidden) && this.isHidden) {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  hide() {\r\n    this.hidden = 'none';\r\n  }\r\n\r\n  optionSelect(option: SelectOption, event: MouseEvent) {\r\n    event.stopPropagation();\r\n    this.setValue(option.value);\r\n    this.onChange(this.selectedOption.value);\r\n    this.changeEvent.emit(this.selectedOption.value);\r\n    this.onTouched();\r\n    this.opened = false;\r\n  }\r\n\r\n  toggleOpen(event: MouseEvent) {\r\n    // event.stopPropagation();\r\n    if (this.disabled) {\r\n      return;\r\n    }\r\n    this.opened = !this.opened;\r\n  }\r\n\r\n  @HostListener('document:click', ['$event'])\r\n  onClick($event: MouseEvent) {\r\n    if (!this.elRef.nativeElement.contains($event.target)) {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  close() {\r\n    this.opened = false;\r\n  }\r\n\r\n  get isOpen(): boolean {\r\n    return this.opened;\r\n  }\r\n\r\n  writeValue(value) {\r\n    if (!value || typeof value !== 'string') {\r\n      return;\r\n    }\r\n    this.setValue(value);\r\n  }\r\n\r\n  setValue(value) {\r\n    let index = 0;\r\n    const selectedEl = this.options.find((el, i) => {\r\n      index = i;\r\n      return el.value === value;\r\n    });\r\n    if (selectedEl) {\r\n      this.selectedOption = selectedEl;\r\n      this.optionId = index;\r\n    }\r\n  }\r\n\r\n  onChange: any = () => {};\r\n  onTouched: any = () => {};\r\n\r\n  registerOnChange(fn) {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn) {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.labelButton.nativeElement.disabled = isDisabled;\r\n    const div = this.labelButton.nativeElement;\r\n    const action = isDisabled ? 'addClass' : 'removeClass';\r\n    this.r[action](div, 'disabled');\r\n    this.disabled = isDisabled;\r\n  }\r\n\r\n  @HostListener('keydown', ['$event'])\r\n  handleKeyDown($event: KeyboardEvent) {\r\n    if (!this.opened) {\r\n      return;\r\n    }\r\n    switch ($event.key) {\r\n      case 'ArrowDown':\r\n        this._handleArrowDown($event);\r\n        break;\r\n      case 'ArrowUp':\r\n        this._handleArrowUp($event);\r\n        break;\r\n      case 'Space':\r\n        this._handleSpace($event);\r\n        break;\r\n      case 'Enter':\r\n        this._handleEnter($event);\r\n        break;\r\n      case 'Tab':\r\n        this._handleTab($event);\r\n        break;\r\n      case 'Escape':\r\n        this.close();\r\n        $event.preventDefault();\r\n        break;\r\n      case 'Backspace':\r\n        this._handleBackspace();\r\n        break;\r\n    }\r\n  }\r\n\r\n  _handleArrowDown($event) {\r\n    if (this.optionId < this.options.length - 1) {\r\n      this.optionId++;\r\n    }\r\n  }\r\n\r\n  _handleArrowUp($event) {\r\n    if (this.optionId >= 1) {\r\n      this.optionId--;\r\n    }\r\n  }\r\n\r\n  _handleSpace($event) {}\r\n\r\n  _handleEnter($event) {\r\n    this.optionSelect(this.options[this.optionId], $event);\r\n  }\r\n\r\n  _handleTab($event) {}\r\n\r\n  _handleBackspace() {}\r\n}\r\n","<span class=\"ae-font ae-picker\" [ngClass]=\"{'ae-expanded':isOpen}\">\r\n  <button [tabIndex]=\"-1\" #labelButton tabindex=\"0\" type=\"button\" role=\"button\" class=\"ae-picker-label\" (click)=\"toggleOpen($event);\">{{label}}\r\n    <svg viewBox=\"0 0 18 18\">\r\n      <polygon class=\"ae-stroke\" points=\"7 11 9 13 11 11 7 11\"></polygon>\r\n      <polygon class=\"ae-stroke\" points=\"7 7 9 5 11 7 7 7\"></polygon>\r\n    </svg>\r\n  </button>\r\n  <span class=\"ae-picker-options\">\r\n    <button tabindex=\"-1\" type=\"button\" role=\"button\" class=\"ae-picker-item\"\r\n          *ngFor=\"let item of options; let i = index\"\r\n          [ngClass]=\"{'selected': item.value === value, 'focused': i === optionId}\"\r\n          (click)=\"optionSelect(item, $event)\">\r\n          {{item.label}}\r\n    </button>\r\n    <span class=\"dropdown-item\" *ngIf=\"!options.length\">No items for select</span>\r\n  </span>\r\n</span>\r\n","import { Component, ViewEncapsulation } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'ae-toolbar-set',\r\n  templateUrl: './ae-toolbar-set.component.html',\r\n  styleUrls: ['./ae-toolbar-set.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class AeToolbarSetComponent {\r\n  constructor() {}\r\n}\r\n","<div class=\"angular-editor-toolbar-set\">\r\n  <ng-content></ng-content>\r\n</div>\r\n","import {\r\n  Component,\r\n  ContentChild,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Inject,\r\n  Input,\r\n  Output,\r\n  Renderer2,\r\n  TemplateRef,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport { AngularEditorService, UploadResponse } from './angular-editor.service';\r\nimport { HttpResponse, HttpEvent } from '@angular/common/http';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { CustomClass } from './config';\r\nimport { SelectOption } from './ae-select/ae-select.component';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'angular-editor-toolbar',\r\n  templateUrl: './angular-editor-toolbar.component.html',\r\n  styleUrls: ['./angular-editor-toolbar.component.scss'],\r\n})\r\nexport class AngularEditorToolbarComponent {\r\n  htmlMode = false;\r\n  linkSelected = false;\r\n  block = 'default';\r\n  fontName;\r\n  fontSize;\r\n  foreColour;\r\n  backColor;\r\n\r\n  headings: SelectOption[] = [\r\n    {\r\n      label: 'Heading 1',\r\n      value: 'h1',\r\n    },\r\n    {\r\n      label: 'Heading 2',\r\n      value: 'h2',\r\n    },\r\n    {\r\n      label: 'Heading 3',\r\n      value: 'h3',\r\n    },\r\n    {\r\n      label: 'Heading 4',\r\n      value: 'h4',\r\n    },\r\n    {\r\n      label: 'Heading 5',\r\n      value: 'h5',\r\n    },\r\n    {\r\n      label: 'Heading 6',\r\n      value: 'h6',\r\n    },\r\n    {\r\n      label: 'Paragraph',\r\n      value: 'p',\r\n    },\r\n    {\r\n      label: 'Predefined',\r\n      value: 'pre',\r\n    },\r\n    {\r\n      label: 'Standard',\r\n      value: 'div',\r\n    },\r\n    {\r\n      label: 'default',\r\n      value: 'default',\r\n    },\r\n  ];\r\n\r\n  fontSizes: SelectOption[] = [\r\n    {\r\n      label: '1',\r\n      value: '1',\r\n    },\r\n    {\r\n      label: '2',\r\n      value: '2',\r\n    },\r\n    {\r\n      label: '3',\r\n      value: '3',\r\n    },\r\n    {\r\n      label: '4',\r\n      value: '4',\r\n    },\r\n    {\r\n      label: '5',\r\n      value: '5',\r\n    },\r\n    {\r\n      label: '6',\r\n      value: '6',\r\n    },\r\n    {\r\n      label: '7',\r\n      value: '7',\r\n    },\r\n  ];\r\n\r\n  customClassId = '-1';\r\n  _customClasses: CustomClass[];\r\n  customClassList: SelectOption[] = [{ label: '', value: '' }];\r\n\r\n  tagMap = {\r\n    BLOCKQUOTE: 'indent',\r\n    A: 'link',\r\n  };\r\n\r\n  select = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6', 'P', 'PRE', 'DIV'];\r\n\r\n  buttons = [\r\n    'bold',\r\n    'italic',\r\n    'underline',\r\n    'strikeThrough',\r\n    'subscript',\r\n    'superscript',\r\n    'justifyLeft',\r\n    'justifyCenter',\r\n    'justifyRight',\r\n    'justifyFull',\r\n    'indent',\r\n    'outdent',\r\n    'insertUnorderedList',\r\n    'insertOrderedList',\r\n    'link',\r\n  ];\r\n\r\n  @Input() id: string;\r\n  @Input() uploadUrl: string;\r\n  @Input() upload: (file: File) => Observable<HttpEvent<UploadResponse>>;\r\n  @Input() showToolbar: boolean;\r\n  @Input() fonts: SelectOption[] = [{ label: '', value: '' }];\r\n\r\n  @Input()\r\n  set customClasses(classes: CustomClass[]) {\r\n    if (classes) {\r\n      this._customClasses = classes;\r\n      this.customClassList = this._customClasses.map((x, i) => ({\r\n        label: x.name,\r\n        value: i.toString(),\r\n      }));\r\n      this.customClassList.unshift({ label: 'Clear Class', value: '-1' });\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  set defaultFontName(value: string) {\r\n    if (value) {\r\n      this.fontName = value;\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  set defaultFontSize(value: string) {\r\n    if (value) {\r\n      this.fontSize = value;\r\n    }\r\n  }\r\n\r\n  @Input() hiddenButtons: string[][];\r\n\r\n  @Output() execute: EventEmitter<string> = new EventEmitter<string>();\r\n\r\n  @ViewChild('fileInput', { static: true }) myInputFile: ElementRef;\r\n\r\n  public get isLinkButtonDisabled(): boolean {\r\n    return this.htmlMode || !Boolean(this.editorService.selectedText);\r\n  }\r\n\r\n  constructor(\r\n    private r: Renderer2,\r\n    private editorService: AngularEditorService,\r\n    private er: ElementRef,\r\n    // @ts-ignore\r\n    @Inject(DOCUMENT) private doc: any,\r\n  ) {}\r\n\r\n  /**\r\n   * Trigger command from editor header buttons\r\n   * @param command string from toolbar buttons\r\n   */\r\n  triggerCommand(command: string) {\r\n    this.execute.emit(command);\r\n  }\r\n\r\n  /**\r\n   * highlight editor buttons when cursor moved or positioning\r\n   */\r\n  triggerButtons() {\r\n    if (!this.showToolbar) {\r\n      return;\r\n    }\r\n    this.buttons.forEach((e) => {\r\n      const result = this.doc.queryCommandState(e);\r\n      const elementById = this.doc.getElementById(e + '-' + this.id);\r\n      if (result) {\r\n        this.r.addClass(elementById, 'active');\r\n      } else {\r\n        this.r.removeClass(elementById, 'active');\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * trigger highlight editor buttons when cursor moved or positioning in block\r\n   */\r\n  triggerBlocks(nodes: Node[]) {\r\n    if (!this.showToolbar) {\r\n      return;\r\n    }\r\n    this.linkSelected = nodes.findIndex((x) => x.nodeName === 'A') > -1;\r\n    let found = false;\r\n    this.select.forEach((y) => {\r\n      const node = nodes.find((x) => x.nodeName === y);\r\n      if (node !== undefined && y === node.nodeName) {\r\n        if (found === false) {\r\n          this.block = node.nodeName.toLowerCase();\r\n          found = true;\r\n        }\r\n      } else if (found === false) {\r\n        this.block = 'default';\r\n      }\r\n    });\r\n\r\n    found = false;\r\n    if (this._customClasses) {\r\n      this._customClasses.forEach((y, index) => {\r\n        const node = nodes.find((x) => {\r\n          if (x instanceof Element) {\r\n            return x.className === y.class;\r\n          }\r\n        });\r\n        if (node !== undefined) {\r\n          if (found === false) {\r\n            this.customClassId = index.toString();\r\n            found = true;\r\n          }\r\n        } else if (found === false) {\r\n          this.customClassId = '-1';\r\n        }\r\n      });\r\n    }\r\n\r\n    Object.keys(this.tagMap).map((e) => {\r\n      const elementById = this.doc.getElementById(\r\n        this.tagMap[e] + '-' + this.id,\r\n      );\r\n      const node = nodes.find((x) => x.nodeName === e);\r\n      if (node !== undefined && e === node.nodeName) {\r\n        this.r.addClass(elementById, 'active');\r\n      } else {\r\n        this.r.removeClass(elementById, 'active');\r\n      }\r\n    });\r\n\r\n    this.foreColour = this.doc.queryCommandValue('ForeColor');\r\n    this.fontSize = this.doc.queryCommandValue('FontSize');\r\n    this.fontName = this.doc.queryCommandValue('FontName').replace(/\"/g, '');\r\n    this.backColor = this.doc.queryCommandValue('backColor');\r\n  }\r\n\r\n  /**\r\n   * insert URL link\r\n   */\r\n  insertUrl() {\r\n    let url: string | null = 'https://';\r\n    const selection = this.editorService.savedSelection;\r\n    if (\r\n      selection &&\r\n      selection.commonAncestorContainer?.parentElement?.nodeName === 'A'\r\n    ) {\r\n      const parent = selection.commonAncestorContainer\r\n        .parentElement as HTMLAnchorElement;\r\n      if (parent.href !== '') {\r\n        url = parent.href;\r\n      }\r\n    }\r\n    url = prompt('Insert URL link', url);\r\n    if (url && url !== '' && url !== 'https://') {\r\n      this.editorService.createLink(url);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * insert Video link\r\n   */\r\n  insertVideo() {\r\n    this.execute.emit('');\r\n    const url = prompt('Insert Video link', `https://`);\r\n    if (url && url !== '' && url !== `https://`) {\r\n      this.editorService.insertVideo(url);\r\n    }\r\n  }\r\n\r\n  /** insert color */\r\n  insertColor(color: string, where: string) {\r\n    this.editorService.insertColor(color, where);\r\n    this.execute.emit('');\r\n  }\r\n\r\n  /**\r\n   * set font Name/family\r\n   * @param foreColor string\r\n   */\r\n  setFontName(foreColor: string): void {\r\n    this.editorService.setFontName(foreColor);\r\n    this.execute.emit('');\r\n  }\r\n\r\n  /**\r\n   * set font Size\r\n   * @param fontSize string\r\n   */\r\n  setFontSize(fontSize: string): void {\r\n    this.editorService.setFontSize(fontSize);\r\n    this.execute.emit('');\r\n  }\r\n\r\n  /**\r\n   * toggle editor mode (WYSIWYG or SOURCE)\r\n   * @param m boolean\r\n   */\r\n  setEditorMode(m: boolean) {\r\n    const toggleEditorModeButton = this.doc.getElementById(\r\n      'toggleEditorMode' + '-' + this.id,\r\n    );\r\n    if (m) {\r\n      this.r.addClass(toggleEditorModeButton, 'active');\r\n    } else {\r\n      this.r.removeClass(toggleEditorModeButton, 'active');\r\n    }\r\n    this.htmlMode = m;\r\n  }\r\n\r\n  /**\r\n   * Upload image when file is selected.\r\n   */\r\n  onFileChanged(event) {\r\n    if (!event?.target?.files) {\r\n      return;\r\n    }\r\n\r\n    const file = event.target.files[0];\r\n    if (file.type.includes('image/')) {\r\n      if (this.upload) {\r\n        this.upload(file).subscribe((response: HttpResponse<UploadResponse>) =>\r\n          this.watchUploadImage(response, event),\r\n        );\r\n      } else if (this.uploadUrl) {\r\n        this.editorService\r\n          .uploadImage(file)\r\n          .subscribe((response: HttpResponse<UploadResponse>) =>\r\n            this.watchUploadImage(response, event),\r\n          );\r\n      } else {\r\n        const reader = new FileReader();\r\n        reader.onload = (e: ProgressEvent) => {\r\n          const fr = e.currentTarget as FileReader;\r\n          if (!fr || !fr.result) {\r\n            console.error(`No file selected.`);\r\n            return;\r\n          }\r\n          this.editorService.insertImage(fr.result.toString());\r\n        };\r\n        reader.readAsDataURL(file);\r\n      }\r\n    }\r\n\r\n    if (event.target) event.target.value = null;\r\n  }\r\n\r\n  watchUploadImage(response: HttpResponse<{ imageUrl: string }>, event) {\r\n    if (!response?.body?.imageUrl) {\r\n      console.error(\r\n        `Request body is empty or imageUrl property is not on the response`,\r\n        response,\r\n      );\r\n      return;\r\n    }\r\n    const { imageUrl } = response.body;\r\n    this.editorService.insertImage(imageUrl);\r\n    event.srcElement.value = null;\r\n  }\r\n\r\n  /**\r\n   * Set custom class\r\n   */\r\n  setCustomClass(classId: string) {\r\n    if (classId === '-1') {\r\n      this.execute.emit('clear');\r\n    } else {\r\n      this.editorService.createCustomClass(this._customClasses[+classId]);\r\n    }\r\n  }\r\n\r\n  isButtonHidden(name: string): boolean {\r\n    if (!name) {\r\n      return false;\r\n    }\r\n    if (!(this.hiddenButtons instanceof Array)) {\r\n      return false;\r\n    }\r\n    let result: any;\r\n    for (const arr of this.hiddenButtons) {\r\n      if (arr instanceof Array) {\r\n        result = arr.find((item) => item === name);\r\n      }\r\n      if (result) {\r\n        break;\r\n      }\r\n    }\r\n    return result !== undefined;\r\n  }\r\n\r\n  focus() {\r\n    this.execute.emit('focus');\r\n  }\r\n}\r\n","<div class=\"angular-editor-toolbar\" *ngIf=\"showToolbar\">\r\n  <div class=\"angular-editor-toolbar-set\">\r\n    <button type=\"button\" title=\"Undo\" class=\"angular-editor-button\" (click)=\"triggerCommand('undo')\"\r\n            [hidden]=\"isButtonHidden('undo')\" tabindex=\"-1\"><i\r\n      class='fa fa-undo'></i></button>\r\n    <button type=\"button\" title=\"Redo\" class=\"angular-editor-button\" (click)=\"triggerCommand('redo')\"\r\n            [hidden]=\"isButtonHidden('redo')\" tabindex=\"-1\"><i\r\n      class='fa fa-repeat'></i></button>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n    <button [id]=\"'bold-'+id\" type=\"button\" title=\"Bold\" class=\"angular-editor-button\" (click)=\"triggerCommand('bold')\"\r\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('bold')\" tabindex=\"-1\"><i class='fa fa-bold'></i></button>\r\n    <button [id]=\"'italic-'+id\" type=\"button\" title=\"Italic\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('italic')\"\r\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('italic')\" tabindex=\"-1\"><i class='fa fa-italic'></i>\r\n    </button>\r\n    <button [id]=\"'underline-'+id\" type=\"button\" title=\"Underline\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('underline')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('underline')\"\r\n            tabindex=\"-1\"><i class='fa fa-underline'></i></button>\r\n    <button [id]=\"'strikeThrough-'+id\" type=\"button\" title=\"Strikethrough\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('strikeThrough')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('strikeThrough')\"\r\n            tabindex=\"-1\"><i class='fa fa-strikethrough'></i></button>\r\n    <button [id]=\"'subscript-'+id\" type=\"button\" title=\"Subscript\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('subscript')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('subscript')\"\r\n            tabindex=\"-1\"><i class='fa fa-subscript'></i></button>\r\n    <button [id]=\"'superscript-'+id\" type=\"button\" title=\"Superscript\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('superscript')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('superscript')\"\r\n            tabindex=\"-1\"><i class='fa fa-superscript'></i></button>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n    <button [id]=\"'justifyLeft-'+id\" type=\"button\" title=\"Justify Left\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('justifyLeft')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('justifyLeft')\"\r\n            tabindex=\"-1\"><i\r\n      class='fa fa-align-left'></i></button>\r\n    <button [id]=\"'justifyCenter-'+id\" type=\"button\" title=\"Justify Center\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('justifyCenter')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('justifyCenter')\"\r\n            tabindex=\"-1\"><i\r\n      class='fa fa-align-center'></i></button>\r\n    <button [id]=\"'justifyRight-'+id\" type=\"button\" title=\"Justify Right\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('justifyRight')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('justifyRight')\"\r\n            tabindex=\"-1\">\r\n      <i class='fa fa-align-right'></i></button>\r\n    <button [id]=\"'justifyFull-'+id\" type=\"button\" title=\"Justify Full\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('justifyFull')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('justifyFull')\"\r\n            tabindex=\"-1\"><i\r\n      class='fa fa-align-justify'></i></button>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n    <button [id]=\"'indent-'+id\" type=\"button\" title=\"Indent\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('indent')\"\r\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('indent')\" tabindex=\"-1\"><i\r\n      class='fa fa-indent'></i></button>\r\n    <button [id]=\"'outdent-'+id\" type=\"button\" title=\"Outdent\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('outdent')\"\r\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('outdent')\" tabindex=\"-1\"><i\r\n      class='fa fa-outdent'></i></button>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n    <button [id]=\"'insertUnorderedList-'+id\" type=\"button\" title=\"Unordered List\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('insertUnorderedList')\" [disabled]=\"htmlMode\"\r\n            [hidden]=\"isButtonHidden('insertUnorderedList')\" tabindex=\"-1\"><i\r\n      class='fa fa-list-ul'></i></button>\r\n    <button [id]=\"'insertOrderedList-'+id\" type=\"button\" title=\"Ordered List\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('insertOrderedList')\" [disabled]=\"htmlMode\"\r\n            [hidden]=\"isButtonHidden('insertOrderedList')\" tabindex=\"-1\"><i\r\n      class='fa fa-list-ol'></i></button>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n\r\n    <ae-select class=\"select-heading\" [options]=\"headings\"\r\n               [(ngModel)]=\"block\"\r\n               (change)=\"triggerCommand(block)\"\r\n               [disabled]=\"htmlMode\"\r\n               [hidden]=\"isButtonHidden('heading')\"\r\n               tabindex=\"-1\"></ae-select>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n\r\n    <ae-select class=\"select-font\" [options]=\"fonts\"\r\n               [(ngModel)]=\"fontName\"\r\n               (change)=\"setFontName(fontName)\"\r\n               [disabled]=\"htmlMode\"\r\n               [hidden]=\"isButtonHidden('fontName')\"\r\n               tabindex=\"-1\"\r\n               title=\"Font Family\"></ae-select>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n\r\n    <ae-select class=\"select-font-size\" [options]=\"fontSizes\"\r\n               [(ngModel)]=\"fontSize\"\r\n               (change)=\"setFontSize(fontSize)\"\r\n               [disabled]=\"htmlMode\"\r\n               [hidden]=\"isButtonHidden('fontSize')\"\r\n               tabindex=\"-1\"\r\n               title=\"Font Size\">\r\n    </ae-select>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n    <input\r\n      style=\"display: none\"\r\n      type=\"color\" (change)=\"insertColor(fgInput.value, 'textColor')\"\r\n      #fgInput>\r\n    <button [id]=\"'foregroundColorPicker-'+id\" type=\"button\" class=\"angular-editor-button\" (click)=\"focus(); ; fgInput.click()\"\r\n            title=\"Text Color\"\r\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('textColor')\" tabindex=\"-1\"><span\r\n      class=\"color-label foreground\"><i class=\"fa fa-font\"></i></span>\r\n    </button>\r\n    <input\r\n      style=\"display: none\"\r\n      type=\"color\" (change)=\"insertColor(bgInput.value, 'backgroundColor')\"\r\n      #bgInput>\r\n    <button [id]=\"'backgroundColorPicker-'+id\" type=\"button\" class=\"angular-editor-button\" (click)=\"focus(); ; bgInput.click()\"\r\n            title=\"Background Color\"\r\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('backgroundColor')\" tabindex=\"-1\"><span\r\n      class=\"color-label background\"><i class=\"fa fa-font\"></i></span>\r\n    </button>\r\n  </div>\r\n  <div *ngIf=\"_customClasses\" class=\"angular-editor-toolbar-set\">\r\n    <ae-select class=\"select-custom-style\" [options]=\"customClassList\"\r\n               [(ngModel)]=\"customClassId\"\r\n               (change)=\"setCustomClass(customClassId)\"\r\n               [disabled]=\"htmlMode\"\r\n               [hidden]=\"isButtonHidden('customClasses')\"\r\n               tabindex=\"-1\"></ae-select>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n    <button [id]=\"'link-'+id\" type=\"button\" class=\"angular-editor-button\" (click)=\"insertUrl()\"\r\n            title=\"Insert Link\" [disabled]=\"isLinkButtonDisabled\" [hidden]=\"isButtonHidden('link')\" tabindex=\"-1\">\r\n      <i class=\"fa fa-link\"></i>\r\n    </button>\r\n    <button [id]=\"'unlink-'+id\" type=\"button\" class=\"angular-editor-button\" (click)=\"triggerCommand('unlink')\"\r\n            title=\"Unlink\" [disabled]=\"htmlMode || !linkSelected\" [hidden]=\"isButtonHidden('unlink')\" tabindex=\"-1\">\r\n      <i class=\"fa fa-chain-broken\"></i>\r\n    </button>\r\n    <input\r\n      style=\"display: none\"\r\n      accept=\"image/*\"\r\n      type=\"file\" (change)=\"onFileChanged($event)\"\r\n      #fileInput>\r\n    <button [id]=\"'insertImage-'+id\" type=\"button\" class=\"angular-editor-button\" (click)=\"focus(); fileInput.click()\"\r\n            title=\"Insert Image\"\r\n            [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('insertImage')\" tabindex=\"-1\"><i class=\"fa fa-image\"></i>\r\n    </button>\r\n    <button [id]=\"'insertVideo-'+id\" type=\"button\" class=\"angular-editor-button\"\r\n            (click)=\"insertVideo()\" title=\"Insert Video\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('insertVideo')\"\r\n            tabindex=\"-1\"><i\r\n      class=\"fa fa-video-camera\"></i></button>\r\n    <button [id]=\"'insertHorizontalRule-'+id\" type=\"button\" title=\"Horizontal Line\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('insertHorizontalRule')\" [disabled]=\"htmlMode\"\r\n            [hidden]=\"isButtonHidden('insertHorizontalRule')\" tabindex=\"-1\"><i\r\n      class=\"fa fa-minus\"></i></button>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n    <button [id]=\"'clearFormatting-'+id\" type=\"button\" title=\"Clear Formatting\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('removeFormat')\" [disabled]=\"htmlMode\" [hidden]=\"isButtonHidden('removeFormat')\"\r\n            tabindex=\"-1\"><i class='fa fa-remove'></i>\r\n    </button>\r\n  </div>\r\n  <div class=\"angular-editor-toolbar-set\">\r\n    <button [id]=\"'toggleEditorMode-'+id\" type=\"button\" title=\"HTML Code\" class=\"angular-editor-button\"\r\n            (click)=\"triggerCommand('toggleEditorMode')\" [hidden]=\"isButtonHidden('toggleEditorMode')\" tabindex=\"-1\"><i\r\n      class='fa fa-code'></i></button>\r\n  </div>\r\n  <ng-content></ng-content>\r\n</div>\r\n","import { DOCUMENT } from '@angular/common';\r\nimport {\r\n  AfterViewInit,\r\n  Attribute,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChild,\r\n  ElementRef,\r\n  EventEmitter,\r\n  forwardRef,\r\n  HostBinding,\r\n  HostListener,\r\n  Inject,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  Renderer2,\r\n  SecurityContext,\r\n  TemplateRef,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { AngularEditorToolbarComponent } from './angular-editor-toolbar.component';\r\nimport { AngularEditorService } from './angular-editor.service';\r\nimport { AngularEditorConfig, angularEditorConfig } from './config';\r\nimport { isDefined } from './utils';\r\nimport { Subject, throttleTime } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'angular-editor',\r\n  templateUrl: './angular-editor.component.html',\r\n  styleUrls: ['./angular-editor.component.scss'],\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => AngularEditorComponent),\r\n      multi: true,\r\n    },\r\n    AngularEditorService,\r\n  ],\r\n})\r\nexport class AngularEditorComponent\r\n  implements OnInit, ControlValueAccessor, AfterViewInit, OnDestroy\r\n{\r\n  private onChange: (value: string) => void;\r\n  private onTouched: () => void;\r\n\r\n  modeVisual = true;\r\n  showPlaceholder = false;\r\n  disabled = false;\r\n  focused = false;\r\n  touched = false;\r\n  changed = false;\r\n\r\n  mouseMoveEvtListener = () => {};\r\n  currentSelectedImage: any = null;\r\n  editSubject = new Subject();\r\n  editHistory = [] as any[];\r\n  currentHistoryIndex = -1;\r\n\r\n  focusInstance: any;\r\n  blurInstance: any;\r\n\r\n  @Input() id = '';\r\n  @Input() config: AngularEditorConfig = angularEditorConfig;\r\n  @Input() placeholder = '';\r\n  @Input() tabIndex: number | null;\r\n\r\n  @Output() html;\r\n\r\n  @ViewChild('editor', { static: true }) textArea: ElementRef;\r\n  @ViewChild('editorWrapper', { static: true }) editorWrapper: ElementRef;\r\n  @ViewChild('editorToolbar') editorToolbar: AngularEditorToolbarComponent;\r\n  @ContentChild('customButtons') customButtonsTemplateRef?: TemplateRef<any>;\r\n  executeCommandFn = this.executeCommand.bind(this);\r\n\r\n  @Output() viewMode = new EventEmitter<boolean>();\r\n\r\n  /** emits `blur` event when focused out from the textarea */\r\n  // eslint-disable-next-line @angular-eslint/no-output-native, @angular-eslint/no-output-rename\r\n  @Output('blur') blurEvent: EventEmitter<FocusEvent> =\r\n    new EventEmitter<FocusEvent>();\r\n\r\n  /** emits `focus` event when focused in to the textarea */\r\n  // eslint-disable-next-line @angular-eslint/no-output-rename, @angular-eslint/no-output-native\r\n  @Output('focus') focusEvent: EventEmitter<FocusEvent> =\r\n    new EventEmitter<FocusEvent>();\r\n\r\n  @HostBinding('attr.tabindex') tabindex = -1;\r\n\r\n  @HostListener('focus')\r\n  onFocus() {\r\n    this.focus();\r\n  }\r\n\r\n  @HostListener('contextmenu')\r\n  preventContextMenu() {\r\n    this.unselectImage();\r\n  }\r\n\r\n  @HostListener('window:click', ['$event.target'])\r\n  onClick(e) {\r\n    if (!this.focused) return;\r\n    this.unselectImage();\r\n    if (!e || e.tagName !== 'IMG') return;\r\n    this.currentSelectedImage = e;\r\n    this.addResizeWrapper();\r\n    this.selectImage();\r\n    this.onContentChange(this.textArea.nativeElement);\r\n    this.runFontNameAndSizeCheck();\r\n  }\r\n\r\n  constructor(\r\n    private r: Renderer2,\r\n    private editorService: AngularEditorService,\r\n    // @ts-ignore\r\n    @Inject(DOCUMENT) private doc: Document,\r\n    private sanitizer: DomSanitizer,\r\n    private cdRef: ChangeDetectorRef,\r\n    // @ts-ignore\r\n    @Attribute('tabindex') defaultTabIndex: string,\r\n    // @ts-ignore\r\n    @Attribute('autofocus') private autoFocus: any,\r\n  ) {\r\n    const parsedTabIndex = Number(defaultTabIndex);\r\n    this.tabIndex =\r\n      parsedTabIndex || parsedTabIndex === 0 ? parsedTabIndex : null;\r\n    this.editSubject\r\n      .pipe(throttleTime(200, undefined, { leading: false, trailing: true }))\r\n      .subscribe((html) => {\r\n        this.addHistory(html);\r\n      });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.config.toolbarPosition = this.config.toolbarPosition\r\n      ? this.config.toolbarPosition\r\n      : angularEditorConfig.toolbarPosition;\r\n    this.config.editHistoryLimit = this.config.editHistoryLimit\r\n      ? this.config.editHistoryLimit\r\n      : angularEditorConfig.editHistoryLimit;\r\n    this.config.imageResizeSensitivity = this.config.imageResizeSensitivity\r\n      ? this.config.imageResizeSensitivity\r\n      : angularEditorConfig.imageResizeSensitivity;\r\n    this.config.textPatternsEnabled =\r\n      this.config.textPatternsEnabled == null\r\n        ? angularEditorConfig.textPatternsEnabled\r\n        : this.config.textPatternsEnabled;\r\n\r\n    this.editorService.currentFontName =\r\n      this.editorService.currentFontName ||\r\n      this.config.defaultFontName ||\r\n      angularEditorConfig.defaultFontName ||\r\n      this.config.fonts[0]?.label;\r\n\r\n    this.editorService.currentFontSize =\r\n      this.editorService.currentFontSize ||\r\n      this.config.defaultFontSize ||\r\n      angularEditorConfig.defaultFontSize;\r\n\r\n    this.editorService.setFontName(this.editorService.currentFontName);\r\n    this.editorService.setFontSize(this.editorService.currentFontSize);\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    if (isDefined(this.autoFocus)) {\r\n      this.focus();\r\n    }\r\n  }\r\n\r\n  ePos;\r\n  resizeImage = (currentSelected, renderer2) => (e) => {\r\n    if (!currentSelected) return;\r\n    const resizeSensitivity =\r\n      this.config.imageResizeSensitivity ||\r\n      angularEditorConfig.imageResizeSensitivity ||\r\n      2;\r\n    const currX = e.x != null ? e.x : e.clientX;\r\n    const dx = this.ePos - currX;\r\n    this.ePos = currX;\r\n    let nextWidth = currentSelected.width + dx * resizeSensitivity;\r\n    if (nextWidth <= 10) nextWidth = 10;\r\n    renderer2.setAttribute(currentSelected, 'width', `${nextWidth}px`);\r\n  };\r\n\r\n  selectImage(toStart = false) {\r\n    const selection = this.doc.getSelection() as Selection;\r\n    selection.removeAllRanges();\r\n    const range = this.doc.createRange();\r\n    if (!this.currentSelectedImage?.parentNode) {\r\n      return;\r\n    }\r\n    range.selectNode(this.currentSelectedImage);\r\n    range.collapse(toStart);\r\n    selection.addRange(range);\r\n    this.r.setStyle(this.textArea.nativeElement, 'caret-color', 'transparent');\r\n  }\r\n\r\n  // TODO: Move image stuff to another service or class\r\n  addResizeWrapper() {\r\n    const parent = this.currentSelectedImage.parentNode;\r\n    if (parent.classList?.contains('angular-editor-selected-image-wrapper'))\r\n      return;\r\n    const wrapper = this.r.createElement('div');\r\n    this.r.addClass(wrapper, 'angular-editor-selected-image-wrapper');\r\n    this.r.insertBefore(parent, wrapper, this.currentSelectedImage);\r\n    this.r.removeChild(parent, this.currentSelectedImage);\r\n    this.r.appendChild(wrapper, this.currentSelectedImage);\r\n    this.r.listen(wrapper, 'mousedown', (e) => {\r\n      e.preventDefault();\r\n      this.mouseMoveEvtListener();\r\n      this.ePos = e.x != null ? e.x : e.clientX;\r\n      this.mouseMoveEvtListener = this.r.listen(\r\n        this.doc,\r\n        'mousemove',\r\n        this.resizeImage(this.currentSelectedImage, this.r),\r\n      );\r\n    });\r\n  }\r\n\r\n  removeResizeWrapper() {\r\n    this.mouseMoveEvtListener();\r\n    const wrappers = this.doc.getElementsByClassName(\r\n      'angular-editor-selected-image-wrapper',\r\n    );\r\n    for (let i = wrappers.length - 1; i >= 0; i--) {\r\n      const wrapper = wrappers[i];\r\n      this.editorService.replaceWithOwnChildren(wrapper);\r\n    }\r\n  }\r\n\r\n  unselectImage() {\r\n    this.removeResizeWrapper();\r\n    if (!this.currentSelectedImage) return;\r\n    this.r.removeClass(\r\n      this.currentSelectedImage,\r\n      'angular-editor-selected-image',\r\n    );\r\n    this.currentSelectedImage = null;\r\n    this.onContentChange(this.textArea.nativeElement);\r\n    this.r.setStyle(this.textArea.nativeElement, 'caret-color', 'black');\r\n  }\r\n\r\n  onPaste(event: ClipboardEvent) {\r\n    if (this.config.rawPaste) {\r\n      event.preventDefault();\r\n      const text = event.clipboardData?.getData('text/plain');\r\n      document.execCommand('insertHTML', false, text);\r\n      return text;\r\n    }\r\n  }\r\n\r\n  setContentAsCode(editableElement) {\r\n    const oContent = this.r.createText(editableElement.innerHTML);\r\n    this.r.setProperty(editableElement, 'innerHTML', '');\r\n    this.r.setProperty(editableElement, 'contentEditable', false);\r\n\r\n    const oPre = this.r.createElement('pre');\r\n    this.r.setStyle(oPre, 'margin', '0');\r\n    this.r.setStyle(oPre, 'outline', 'none');\r\n\r\n    const oCode = this.r.createElement('code');\r\n    this.r.setProperty(oCode, 'id', 'sourceText' + this.id);\r\n    this.r.setStyle(oCode, 'display', 'block');\r\n    this.r.setStyle(oCode, 'white-space', 'pre-wrap');\r\n    this.r.setStyle(oCode, 'word-break', 'keep-all');\r\n    this.r.setStyle(oCode, 'outline', 'none');\r\n    this.r.setStyle(oCode, 'margin', '0');\r\n    this.r.setStyle(oCode, 'background-color', '#fff5b9');\r\n    this.r.setProperty(oCode, 'contentEditable', true);\r\n    this.r.appendChild(oCode, oContent);\r\n    this.focusInstance = this.r.listen(oCode, 'focus', (event) =>\r\n      this.onTextAreaFocus(event),\r\n    );\r\n    this.blurInstance = this.r.listen(oCode, 'blur', (event) =>\r\n      this.onTextAreaBlur(event),\r\n    );\r\n    this.r.appendChild(oPre, oCode);\r\n    this.r.appendChild(editableElement, oPre);\r\n\r\n    this.doc.execCommand('defaultParagraphSeparator', false, 'div');\r\n  }\r\n\r\n  setElementState() {\r\n    const state = this.editHistory[this.currentHistoryIndex];\r\n    this.r.setProperty(this.textArea.nativeElement, 'innerHTML', state);\r\n    if (!this.modeVisual) {\r\n      this.setContentAsCode(this.textArea.nativeElement);\r\n    }\r\n  }\r\n\r\n  ctrlZ(e) {\r\n    if (this.currentSelectedImage) {\r\n      this.unselectImage();\r\n    }\r\n  }\r\n\r\n  ctrlShiftZ(e) {\r\n    if (this.currentSelectedImage) {\r\n      this.unselectImage();\r\n    }\r\n  }\r\n\r\n  handleEnter(e) {\r\n    const sel = this.doc.getSelection() as Selection;\r\n    const focusNode = sel.focusNode as Node & HTMLElement & any;\r\n    const quoteParent = this.editorService.getFirstParentWithProperty(\r\n      focusNode,\r\n      'angular-editor-quote',\r\n    );\r\n    if (quoteParent && quoteParent.previousSibling) {\r\n      if (\r\n        quoteParent.innerHTML === '<br>' &&\r\n        quoteParent.previousSibling?.innerHTML === '<br>'\r\n      ) {\r\n        this.editorService.replaceWithOwnChildren(quoteParent.previousSibling);\r\n        this.editorService.replaceWithOwnChildren(quoteParent);\r\n        this.onContentChange(this.textArea.nativeElement, false);\r\n        return;\r\n      }\r\n      const previousSibling = quoteParent.previousSibling;\r\n      if (!previousSibling?.classList?.contains('angular-editor-quote')) {\r\n        return;\r\n      }\r\n      const previousSiblingInnerText = this.editorService\r\n        .getInnerTextFromNode(previousSibling)\r\n        ?.trim();\r\n      if (!previousSiblingInnerText || previousSiblingInnerText.length < 1) {\r\n        this.editorService.replaceWithOwnChildren(quoteParent.previousSibling);\r\n        const quoteParentInnerText =\r\n          this.editorService.getInnerTextFromNode(quoteParent);\r\n        if (!quoteParentInnerText?.trim()) {\r\n          this.editorService.replaceWithOwnChildren(quoteParent);\r\n        }\r\n        this.onContentChange(this.textArea.nativeElement, false);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Executed command from editor header buttons\r\n   * @param command string from triggerCommand\r\n   * @param value\r\n   */\r\n  executeCommand(command: string, value?: string) {\r\n    this.focus();\r\n    if (command === 'focus') {\r\n      return;\r\n    }\r\n    if (command === 'toggleEditorMode') {\r\n      this.toggleEditorMode(this.modeVisual);\r\n    } else if (command !== '') {\r\n      if (command === 'clear') {\r\n        this.editorService.removeSelectedElements(this.getCustomTags());\r\n        this.onContentChange(this.textArea.nativeElement);\r\n      } else if (command === 'default') {\r\n        this.editorService.removeSelectedElements('h1,h2,h3,h4,h5,h6,p,pre');\r\n        this.onContentChange(this.textArea.nativeElement);\r\n      } else {\r\n        this.editorService.executeCommand(command, value);\r\n      }\r\n      this.exec();\r\n    }\r\n\r\n    this.onContentChange(this.textArea.nativeElement);\r\n  }\r\n\r\n  onTextAreaFocus(event: FocusEvent): void {\r\n    if (this.focused) {\r\n      event.stopPropagation();\r\n      return;\r\n    }\r\n    this.runFontNameAndSizeCheck();\r\n    this.focused = true;\r\n    this.focusEvent.emit(event);\r\n    if (!this.touched || !this.changed) {\r\n      this.editorService.executeInNextQueueIteration(() => {\r\n        this.configure();\r\n        this.touched = true;\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @description fires when cursor leaves textarea\r\n   */\r\n  public onTextAreaMouseOut(event: MouseEvent): void {\r\n    this.editorService.saveSelection();\r\n  }\r\n\r\n  onTextAreaBlur(event: FocusEvent) {\r\n    this.unselectImage();\r\n    this.editorService.executeInNextQueueIteration(\r\n      this.editorService.saveSelection,\r\n    );\r\n\r\n    if (typeof this.onTouched === 'function') {\r\n      this.onTouched();\r\n    }\r\n\r\n    if (event.relatedTarget !== null) {\r\n      const parent = (event.relatedTarget as HTMLElement).parentElement;\r\n      if (\r\n        parent &&\r\n        !parent.classList.contains('angular-editor-toolbar-set') &&\r\n        !parent.classList.contains('ae-picker')\r\n      ) {\r\n        this.blurEvent.emit(event);\r\n        this.focused = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  hasParentTag(element: any, tagNames: string[]) {\r\n    if (!element) return null;\r\n    if (element && tagNames.includes(element.tagName)) {\r\n      return element.tagName;\r\n    }\r\n    return this.hasParentTag(element?.parentElement, tagNames);\r\n  }\r\n\r\n  isCurrentSelectionHeader(): boolean {\r\n    if (\r\n      !['pre', 'div', 'default'].includes(\r\n        this.editorToolbar.block?.toLowerCase(),\r\n      )\r\n    ) {\r\n      return true;\r\n    }\r\n    const selection = this.doc.getSelection();\r\n    if (selection.rangeCount < 1) return false;\r\n    const edRange = selection?.getRangeAt(0);\r\n    let edNode = edRange.commonAncestorContainer;\r\n    const isHeader = this.hasParentTag(edNode, [\r\n      'H1',\r\n      'H2',\r\n      'H3',\r\n      'H4',\r\n      'H5',\r\n      'H6',\r\n    ]);\r\n    return (\r\n      isHeader == true ||\r\n      ['H1', 'H2', 'H3', 'H4', 'H5', 'H6'].includes(isHeader as string)\r\n    );\r\n  }\r\n\r\n  deepRemoveAttribute(attr: string, node?: Node) {\r\n    const selection = this.doc.getSelection();\r\n    const edRange = selection.getRangeAt(0);\r\n    let edNode = node;\r\n    if (!edNode) {\r\n      edNode = edRange?.commonAncestorContainer;\r\n    }\r\n    const isHeader = this.hasParentTag(edNode, [\r\n      'H1',\r\n      'H2',\r\n      'H3',\r\n      'H4',\r\n      'H5',\r\n      'H6',\r\n    ]);\r\n    if (isHeader) {\r\n      let parent = edNode.parentElement;\r\n      while (parent) {\r\n        parent.removeAttribute(attr);\r\n        parent = parent.parentElement;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   *  focus the text area when the editor is focused\r\n   */\r\n  focus() {\r\n    if (this.modeVisual) {\r\n      this.textArea.nativeElement.focus();\r\n    } else {\r\n      const sourceText = this.doc.getElementById('sourceText' + this.id);\r\n      sourceText?.focus();\r\n      this.focused = true;\r\n    }\r\n    this.runFontNameAndSizeCheck();\r\n  }\r\n\r\n  addHistory(html) {\r\n    if (\r\n      this.config.editHistoryLimit != null &&\r\n      this.editHistory.length >= this.config.editHistoryLimit\r\n    ) {\r\n      this.editHistory.shift();\r\n      this.currentHistoryIndex -= 1;\r\n    }\r\n    this.editHistory.length = this.currentHistoryIndex + 1;\r\n    this.editHistory.push(html);\r\n    this.currentHistoryIndex = this.editHistory.length - 1;\r\n  }\r\n\r\n  /**\r\n   * Executed from the contenteditable section while the input property changes\r\n   * @param element html element from contenteditable\r\n   */\r\n  onContentChange(element: any, addChangeToHistory = true): void {\r\n    let html = '';\r\n    if (this.modeVisual) {\r\n      html = element.innerHTML;\r\n    } else {\r\n      html = element.innerText;\r\n    }\r\n    if (!html || html === '<br>') {\r\n      html = '';\r\n    }\r\n    if (typeof this.onChange === 'function') {\r\n      this.onChange(\r\n        this.config.sanitize || this.config.sanitize === undefined\r\n          ? this.sanitizer.sanitize(SecurityContext.HTML, html) || html\r\n          : html,\r\n      );\r\n      if (!html !== this.showPlaceholder) {\r\n        this.togglePlaceholder(this.showPlaceholder);\r\n      }\r\n    }\r\n    if (addChangeToHistory) {\r\n      this.editSubject.next(html);\r\n    }\r\n    this.changed = true;\r\n    this.runFontNameAndSizeCheck();\r\n  }\r\n\r\n  /**\r\n   * Set the function to be called\r\n   * when the control receives a change event.\r\n   *\r\n   * @param fn a function\r\n   */\r\n  registerOnChange(fn: any): void {\r\n    this.onChange = (e) => (e === '<br>' ? fn('') : fn(e));\r\n  }\r\n\r\n  /**\r\n   * Set the function to be called\r\n   * when the control receives a touch event.\r\n   *\r\n   * @param fn a function\r\n   */\r\n  registerOnTouched(fn: any): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  /**\r\n   * Write a new value to the element.\r\n   *\r\n   * @param value value to be executed when there is a change in contenteditable\r\n   */\r\n  writeValue(value: any): void {\r\n    if ((!value || value === '<br>' || value === '') !== this.showPlaceholder) {\r\n      this.togglePlaceholder(this.showPlaceholder);\r\n    }\r\n\r\n    if (value === undefined || value === '' || value === '<br>') {\r\n      value = null;\r\n    }\r\n\r\n    this.refreshView(value);\r\n  }\r\n\r\n  /**\r\n   * refresh view/HTML of the editor\r\n   *\r\n   * @param value html string from the editor\r\n   */\r\n  refreshView(value: string): void {\r\n    const normalizedValue = value === null ? '' : value;\r\n    this.r.setProperty(\r\n      this.textArea.nativeElement,\r\n      'innerHTML',\r\n      normalizedValue,\r\n    );\r\n    if (value !== null && this.editHistory.length === 0) {\r\n      this.editHistory.push(this.textArea.nativeElement.innerHTML);\r\n      this.currentHistoryIndex = 0;\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  /**\r\n   * toggles placeholder based on input string\r\n   *\r\n   * @param value A HTML string from the editor\r\n   */\r\n  togglePlaceholder(value: boolean): void {\r\n    if (!value) {\r\n      this.r.addClass(this.editorWrapper.nativeElement, 'show-placeholder');\r\n      this.showPlaceholder = true;\r\n    } else {\r\n      this.r.removeClass(this.editorWrapper.nativeElement, 'show-placeholder');\r\n      this.showPlaceholder = false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Implements disabled state for this element\r\n   *\r\n   * @param isDisabled Disabled flag\r\n   */\r\n  setDisabledState(isDisabled: boolean): void {\r\n    const div = this.textArea.nativeElement;\r\n    const action = isDisabled ? 'addClass' : 'removeClass';\r\n    this.r[action](div, 'disabled');\r\n    this.disabled = isDisabled;\r\n  }\r\n\r\n  /**\r\n   * toggles editor mode based on bToSource bool\r\n   *\r\n   * @param bToSource A boolean value from the editor\r\n   */\r\n  toggleEditorMode(bToSource: boolean) {\r\n    let oContent: any;\r\n    const editableElement = this.textArea.nativeElement;\r\n\r\n    if (bToSource) {\r\n      oContent = this.r.createText(editableElement.innerHTML);\r\n      this.r.setProperty(editableElement, 'innerHTML', '');\r\n      this.r.setProperty(editableElement, 'contentEditable', false);\r\n\r\n      const oPre = this.r.createElement('pre');\r\n      this.r.setStyle(oPre, 'margin', '0');\r\n      this.r.setStyle(oPre, 'outline', 'none');\r\n\r\n      const oCode = this.r.createElement('code');\r\n      this.r.setProperty(oCode, 'id', 'sourceText' + this.id);\r\n      this.r.setStyle(oCode, 'display', 'block');\r\n      this.r.setStyle(oCode, 'white-space', 'pre-wrap');\r\n      this.r.setStyle(oCode, 'word-break', 'keep-all');\r\n      this.r.setStyle(oCode, 'outline', 'none');\r\n      this.r.setStyle(oCode, 'margin', '0');\r\n      this.r.setStyle(oCode, 'background-color', '#fff5b9');\r\n      this.r.setProperty(oCode, 'contentEditable', true);\r\n      this.r.appendChild(oCode, oContent);\r\n      this.focusInstance = this.r.listen(oCode, 'focus', (event) =>\r\n        this.onTextAreaFocus(event),\r\n      );\r\n      this.blurInstance = this.r.listen(oCode, 'blur', (event) =>\r\n        this.onTextAreaBlur(event),\r\n      );\r\n      this.r.appendChild(oPre, oCode);\r\n      this.r.appendChild(editableElement, oPre);\r\n\r\n      this.doc.execCommand('defaultParagraphSeparator', false, 'div');\r\n\r\n      this.modeVisual = false;\r\n      this.viewMode.emit(false);\r\n      oCode.focus();\r\n    } else {\r\n      if (this.doc['querySelectorAll']) {\r\n        this.r.setProperty(\r\n          editableElement,\r\n          'innerHTML',\r\n          editableElement.innerText,\r\n        );\r\n      } else {\r\n        oContent = this.doc.createRange();\r\n        oContent.selectNodeContents(editableElement.firstChild);\r\n        this.r.setProperty(editableElement, 'innerHTML', oContent.toString());\r\n      }\r\n      this.r.setProperty(editableElement, 'contentEditable', true);\r\n      this.modeVisual = true;\r\n      this.viewMode.emit(true);\r\n      this.onContentChange(editableElement, false);\r\n      editableElement.focus();\r\n    }\r\n    this.editorToolbar.setEditorMode(!this.modeVisual);\r\n  }\r\n\r\n  textPatternCheck() {\r\n    if (this.config.textPatternsEnabled === false || !this.modeVisual) return;\r\n    if (!this.modeVisual) return;\r\n    const selection = this.doc.getSelection() as Selection;\r\n    const txtData = selection.anchorNode?.textContent;\r\n    const textPatternsMap = {\r\n      '1.': { command: 'insertOrderedList', offsets: [3] },\r\n      '*': { command: 'insertUnorderedList', offsets: [2] },\r\n      '>': {\r\n        command: () =>\r\n          this.editorService.createCustomClass({\r\n            name: 'quote',\r\n            class: 'angular-editor-quote',\r\n          }),\r\n        offsets: [2],\r\n      },\r\n    };\r\n    const patternDetected = textPatternsMap[txtData ? txtData.trim() : ''];\r\n    if (\r\n      patternDetected &&\r\n      patternDetected.command &&\r\n      patternDetected.offsets?.includes(selection.anchorOffset)\r\n    ) {\r\n      if (typeof patternDetected.command == 'string') {\r\n        this.doc.execCommand(patternDetected.command, false);\r\n        const edRange = selection.getRangeAt(0);\r\n        const edNode = edRange.commonAncestorContainer;\r\n        selection.removeAllRanges();\r\n        const range = this.doc.createRange();\r\n        range.selectNodeContents(edNode);\r\n        selection.addRange(range);\r\n        range.deleteContents();\r\n      } else {\r\n        const edRange = selection.getRangeAt(0);\r\n        const edNode = edRange.commonAncestorContainer;\r\n        selection.removeAllRanges();\r\n        const range = this.doc.createRange();\r\n        range.selectNodeContents(edNode);\r\n        selection.addRange(range);\r\n        patternDetected.command();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * toggles editor buttons when cursor moved or positioning\r\n   *\r\n   * Send a node array from the contentEditable of the editor\r\n   */\r\n  exec($event: KeyboardEvent | any | null = null) {\r\n    this.runFontNameAndSizeCheck();\r\n    if ($event && ($event.key === 'Delete' || $event.key === 'Backspace')) {\r\n      if (this.currentSelectedImage) {\r\n        this.removeResizeWrapper();\r\n        if ($event.key === 'Delete') {\r\n          this.selectImage(true);\r\n        }\r\n      } else if ($event.key === 'Backspace') {\r\n        const justifyRightOrCenterEnabled =\r\n          this.doc.queryCommandState('justifyCenter') ||\r\n          this.doc.queryCommandState('justifyRight');\r\n        const selection = this.doc.getSelection();\r\n        const txtData = selection?.anchorNode?.textContent;\r\n        const previousSiblingTxtData =\r\n          selection?.anchorNode?.previousSibling?.textContent;\r\n        if (\r\n          justifyRightOrCenterEnabled &&\r\n          txtData === '' &&\r\n          previousSiblingTxtData === ''\r\n        ) {\r\n          this.doc.execCommand('justifyLeft');\r\n        }\r\n      }\r\n    }\r\n\r\n    this.editorToolbar.triggerButtons();\r\n\r\n    let userSelection;\r\n    if (this.doc.getSelection) {\r\n      userSelection = this.doc.getSelection();\r\n      this.editorService.executeInNextQueueIteration(\r\n        this.editorService.saveSelection,\r\n      );\r\n    }\r\n\r\n    let a = userSelection.focusNode;\r\n    const els = [] as any[];\r\n\r\n    while (a && a.id !== 'editor') {\r\n      els.unshift(a);\r\n      a = a.parentNode;\r\n    }\r\n\r\n    if ($event && $event.type === 'keyup' && $event.key === ' ') {\r\n      this.textPatternCheck();\r\n    }\r\n\r\n    if (!['pre', 'div', 'default'].includes(this.editorToolbar.block)) {\r\n      this.deepRemoveAttribute('size', userSelection.focusNode);\r\n    }\r\n\r\n    this.runFontNameAndSizeCheck();\r\n    this.editorToolbar.triggerBlocks(els);\r\n  }\r\n\r\n  runFontNameAndSizeCheck() {\r\n    if (this.modeVisual) {\r\n      const currentSelection = this.editorService.getCurrentSelection();\r\n      const fontNameInEditor = this.currentFontNameInEditor();\r\n      const fontSizeInEditor = this.currentFontSizeInEditor();\r\n\r\n      if (\r\n        fontNameInEditor &&\r\n        this.editorService.currentFontName &&\r\n        currentSelection.collapsed\r\n      ) {\r\n        this.editorService.setFontName(this.editorService.currentFontName);\r\n      }\r\n\r\n      if (\r\n        !this.isCurrentSelectionHeader() &&\r\n        fontSizeInEditor &&\r\n        this.editorService.currentFontSize &&\r\n        fontSizeInEditor !== this.editorService.currentFontSize &&\r\n        fontSizeInEditor.replace(/\"/g, '') !==\r\n          this.editorService.currentFontSize &&\r\n        currentSelection.collapsed\r\n      ) {\r\n        this.editorService.setFontSize(this.editorService.currentFontSize);\r\n      }\r\n    }\r\n  }\r\n\r\n  private configure() {\r\n    this.editorService.uploadUrl = this.config.uploadUrl;\r\n    this.editorService.uploadWithCredentials =\r\n      this.config.uploadWithCredentials;\r\n    if (this.config.defaultParagraphSeparator) {\r\n      this.editorService.setDefaultParagraphSeparator(\r\n        this.config.defaultParagraphSeparator,\r\n      );\r\n    }\r\n  }\r\n\r\n  getFonts() {\r\n    const fonts = this.config.fonts\r\n      ? this.config.fonts\r\n      : angularEditorConfig.fonts;\r\n    return fonts?.map((x) => {\r\n      return { label: x.label || x.name, value: x.name };\r\n    });\r\n  }\r\n\r\n  getCustomTags() {\r\n    const tags = ['span'];\r\n    this.config.customClasses?.forEach((x) => {\r\n      if (x.tag !== undefined) {\r\n        if (!tags.includes(x.tag)) {\r\n          tags.push(x.tag);\r\n        }\r\n      }\r\n    });\r\n    return tags.join(',');\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.blurInstance) {\r\n      this.blurInstance();\r\n    }\r\n    if (this.focusInstance) {\r\n      this.focusInstance();\r\n    }\r\n  }\r\n\r\n  filterStyles(html: string): string {\r\n    html = html.replace('position: fixed;', '');\r\n    return html;\r\n  }\r\n\r\n  currentFontNameInEditor() {\r\n    let selectedText = this.doc.getSelection();\r\n\r\n    if (selectedText && selectedText.rangeCount > 0) {\r\n      let range = selectedText.getRangeAt(0);\r\n      let parentElement =\r\n        range.commonAncestorContainer.nodeType === 1\r\n          ? range.commonAncestorContainer\r\n          : range.commonAncestorContainer.parentNode;\r\n      if (!parentElement) {\r\n        return null;\r\n      }\r\n      let computedStyle = getComputedStyle(parentElement as Element);\r\n\r\n      const fontname = computedStyle.fontFamily;\r\n      return fontname;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  currentFontSizeInEditor() {\r\n    let selectedText = this.doc.getSelection();\r\n\r\n    if (selectedText.rangeCount > 0) {\r\n      let range = selectedText.getRangeAt(0);\r\n      let parentElement =\r\n        range.commonAncestorContainer.nodeType === 1\r\n          ? range.commonAncestorContainer\r\n          : range.commonAncestorContainer.parentNode;\r\n      let computedStyle = getComputedStyle(parentElement as Element);\r\n\r\n      return computedStyle.fontSize;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n","<div\r\n     class=\"angular-editor\"\r\n     #angularEditor\r\n     [style.width]=\"config.width\"\r\n     [style.minWidth]=\"config.minWidth\"\r\n>\r\n     <angular-editor-toolbar\r\n          *ngIf=\"config.toolbarPosition === 'top'\"\r\n          #editorToolbar\r\n          [id]=\"id\"\r\n          [uploadUrl]=\"config.uploadUrl\"\r\n          [upload]=\"config.upload\"\r\n          [showToolbar]=\"config.showToolbar !== undefined ? config.showToolbar : true\"\r\n          [fonts]=\"getFonts()\"\r\n          [customClasses]=\"config.customClasses\"\r\n          [defaultFontName]=\"config.defaultFontName\"\r\n          [defaultFontSize]=\"config.defaultFontSize\"\r\n          [hiddenButtons]=\"config.toolbarHiddenButtons\"\r\n          (execute)=\"executeCommand($event)\"\r\n     >\r\n       <ng-container\r\n         [ngTemplateOutlet]=\"customButtonsTemplateRef\"\r\n         [ngTemplateOutletContext]=\"{ executeCommandFn: this.executeCommandFn}\"\r\n       >\r\n       </ng-container>\r\n     </angular-editor-toolbar>\r\n\r\n     <div\r\n          class=\"angular-editor-wrapper\"\r\n          #editorWrapper\r\n     >\r\n          <div\r\n               #editor\r\n               class=\"angular-editor-textarea\"\r\n               [attr.contenteditable]=\"config.editable\"\r\n               [attr.tabindex]=\"disabled ? -1 : tabIndex\"\r\n               [attr.translate]=\"config.translate\"\r\n               [attr.spellcheck]=\"config.spellcheck\"\r\n               [style.height]=\"config.height\"\r\n               [style.minHeight]=\"config.minHeight\"\r\n               [style.maxHeight]=\"config.maxHeight\"\r\n               [style.backgroundColor]=\"config.textAreaBackgroundColor\"\r\n               [style.outline]=\"config.outline === false ? 'none': undefined\"\r\n               (input)=\"onContentChange($event?.target)\"\r\n               (focus)=\"onTextAreaFocus($event)\"\r\n               (blur)=\"onTextAreaBlur($event)\"\r\n               (click)=\"exec()\"\r\n               (keydown)=\"exec($event)\"\r\n               (keyup)=\"exec($event)\"\r\n               (mouseout)=\"onTextAreaMouseOut($event)\"\r\n               (paste)=\"onPaste($event)\"\r\n               (keydown.control.z)=\"ctrlZ($event)\"\r\n               (keydown.control.shift.z)=\"ctrlShiftZ($event)\"\r\n               (keyup.enter)=\"handleEnter($event)\"\r\n          >\r\n          </div>\r\n          <span class=\"angular-editor-placeholder\">{{ placeholder || config['placeholder'] }}</span>\r\n     </div>\r\n     <angular-editor-toolbar\r\n          *ngIf=\"config.toolbarPosition === 'bottom'\"\r\n          #editorToolbar\r\n          [id]=\"id\"\r\n          [uploadUrl]=\"config.uploadUrl\"\r\n          [upload]=\"config.upload\"\r\n          [showToolbar]=\"config.showToolbar !== undefined ? config.showToolbar : true\"\r\n          [fonts]=\"getFonts()\"\r\n          [customClasses]=\"config.customClasses\"\r\n          [defaultFontName]=\"config.defaultFontName\"\r\n          [defaultFontSize]=\"config.defaultFontSize\"\r\n          [hiddenButtons]=\"config.toolbarHiddenButtons\"\r\n          (execute)=\"executeCommand($event)\"\r\n     ></angular-editor-toolbar>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { AngularEditorComponent } from './angular-editor.component';\r\nimport { AngularEditorToolbarComponent } from './angular-editor-toolbar.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AeSelectComponent } from './ae-select/ae-select.component';\r\nimport { AeButtonComponent } from './ae-button/ae-button.component';\r\nimport { AeToolbarSetComponent } from './ae-toolbar-set/ae-toolbar-set.component';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, FormsModule, ReactiveFormsModule],\r\n  declarations: [\r\n    AngularEditorComponent,\r\n    AngularEditorToolbarComponent,\r\n    AeSelectComponent,\r\n    AeButtonComponent,\r\n    AeToolbarSetComponent,\r\n  ],\r\n  exports: [\r\n    AngularEditorComponent,\r\n    AngularEditorToolbarComponent,\r\n    AeButtonComponent,\r\n    AeToolbarSetComponent,\r\n  ],\r\n})\r\nexport class AngularEditorModule {}\r\n","import { Inject, Injectable } from '@angular/core';\r\nimport { HttpClient, HttpEvent } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { CustomClass } from './config';\r\n\r\nexport interface UploadResponse {\r\n  imageUrl: string;\r\n}\r\n\r\n@Injectable()\r\nexport class AngularEditorService {\r\n  savedSelection: Range | null;\r\n  selectedText: string;\r\n  uploadUrl?: string;\r\n  uploadWithCredentials?: boolean;\r\n  currentFontName: string;\r\n  currentFontSize: string;\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    // @ts-ignore\r\n    @Inject(DOCUMENT) private doc: Document,\r\n  ) {}\r\n\r\n  /**\r\n   * Executed command from editor header buttons exclude toggleEditorMode\r\n   * @param command string from triggerCommand\r\n   * @param value\r\n   */\r\n  executeCommand(command: string, value?: string) {\r\n    const commands = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'p', 'pre'];\r\n    if (commands.includes(command)) {\r\n      this.doc.execCommand('formatBlock', false, command);\r\n      return;\r\n    }\r\n    this.doc.execCommand(command, false, value);\r\n  }\r\n\r\n  /**\r\n   * Create URL link\r\n   * @param url string from UI prompt\r\n   */\r\n  createLink(url: string) {\r\n    if (!url.includes('http')) {\r\n      this.doc.execCommand('createlink', false, url);\r\n    } else {\r\n      const newUrl =\r\n        '<a href=\"' + url + '\" target=\"_blank\">' + this.selectedText + '</a>';\r\n      this.insertHtml(newUrl);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * insert color either font or background\r\n   *\r\n   * @param color color to be inserted\r\n   * @param where where the color has to be inserted either text/background\r\n   */\r\n  insertColor(color: string, where: string): void {\r\n    const restored = this.restoreSelection();\r\n    if (restored) {\r\n      if (where === 'textColor') {\r\n        this.doc.execCommand('foreColor', false, color);\r\n      } else {\r\n        this.doc.execCommand('hiliteColor', false, color);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set font name\r\n   * @param fontName string\r\n   */\r\n  setFontName(fontName: string) {\r\n    this.doc.execCommand('fontName', false, fontName);\r\n    this.currentFontName = fontName;\r\n  }\r\n\r\n  /**\r\n   * Set font size\r\n   * @param fontSize string\r\n   */\r\n  setFontSize(fontSize: string) {\r\n    this.doc.execCommand('fontSize', false, fontSize);\r\n    this.currentFontSize = fontSize;\r\n  }\r\n\r\n  /**\r\n   * Create raw HTML\r\n   * @param html HTML string\r\n   */\r\n  insertHtml(html: string): void {\r\n    const isHTMLInserted = this.doc.execCommand('insertHTML', false, html);\r\n\r\n    if (!isHTMLInserted) {\r\n      throw new Error('Unable to perform the operation');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * save selection when the editor is focussed out\r\n   */\r\n  public saveSelection = (): void => {\r\n    const sel = this.doc.getSelection() as Selection;\r\n    if (sel) {\r\n      if (sel?.getRangeAt && sel?.rangeCount) {\r\n        this.savedSelection = sel.getRangeAt(0);\r\n        this.selectedText = sel.toString();\r\n      }\r\n    } else if (this.doc['getSelection'] && this.doc['createRange']) {\r\n      this.savedSelection = document.createRange();\r\n    } else {\r\n      this.savedSelection = null;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * restore selection when the editor is focused in\r\n   *\r\n   * saved selection when the editor is focused out\r\n   */\r\n  restoreSelection(): boolean | undefined {\r\n    if (this.savedSelection) {\r\n      if (this.doc.getSelection) {\r\n        const sel = this.doc.getSelection() as Selection;\r\n        sel.removeAllRanges();\r\n        sel.addRange(this.savedSelection);\r\n        return true;\r\n      } else if (this.doc['getSelection'] /*&& this.savedSelection.select*/) {\r\n        return true;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * setTimeout used for execute 'saveSelection' method in next event loop iteration\r\n   */\r\n  public executeInNextQueueIteration(\r\n    callbackFn: (...args: any[]) => any,\r\n    timeout = 1e2,\r\n  ): void {\r\n    setTimeout(callbackFn, timeout);\r\n  }\r\n\r\n  /**\r\n   * Upload file to uploadUrl\r\n   * @param file The file\r\n   */\r\n  uploadImage(file: File): Observable<HttpEvent<UploadResponse>> | undefined {\r\n    if (this.uploadUrl) {\r\n      const uploadData: FormData = new FormData();\r\n      uploadData.append('file', file, file.name);\r\n\r\n      return this.http.post<UploadResponse>(this.uploadUrl, uploadData, {\r\n        reportProgress: true,\r\n        observe: 'events',\r\n        withCredentials: this.uploadWithCredentials,\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Insert image with Url\r\n   * @param imageUrl The imageUrl.\r\n   */\r\n  insertImage(imageUrl: string) {\r\n    this.doc.execCommand('insertHTML', false, `<img src=\"${imageUrl}\"/>`);\r\n  }\r\n\r\n  setDefaultParagraphSeparator(separator: string) {\r\n    this.doc.execCommand('defaultParagraphSeparator', false, separator);\r\n  }\r\n\r\n  createCustomClass(customClass: CustomClass) {\r\n    let newTag = this.selectedText;\r\n    if (customClass) {\r\n      const tagName = customClass.tag ? customClass.tag : 'div';\r\n      if (!this.selectedText) this.selectedText = '&nbsp;';\r\n      newTag +=\r\n        '<' +\r\n        tagName +\r\n        ' class=\"' +\r\n        customClass.class +\r\n        '\">' +\r\n        this.selectedText +\r\n        '</' +\r\n        tagName +\r\n        '>';\r\n    }\r\n    this.insertHtml(newTag);\r\n  }\r\n\r\n  insertVideo(videoUrl: string) {\r\n    if (videoUrl.match('www.youtube.com')) {\r\n      this.insertYouTubeVideoTag(videoUrl);\r\n    }\r\n    if (videoUrl.match('vimeo.com')) {\r\n      this.insertVimeoVideoTag(videoUrl);\r\n    }\r\n  }\r\n\r\n  private insertYouTubeVideoTag(videoUrl: string): void {\r\n    const id = videoUrl.split('v=')[1];\r\n    const imageUrl = `https://img.youtube.com/vi/${id}/0.jpg`;\r\n    const thumbnail = `\r\n      <div style='position: relative'>\r\n        <a href='${videoUrl}' target='_blank'>\r\n          <img src=\"${imageUrl}\" alt=\"click to watch\"/>\r\n          <img style='position: absolute; left:200px; top:140px'\r\n          src=\"https://img.icons8.com/color/96/000000/youtube-play.png\"/>\r\n        </a>\r\n      </div>`;\r\n    this.insertHtml(thumbnail);\r\n  }\r\n\r\n  private insertVimeoVideoTag(videoUrl: string): void {\r\n    const sub = this.http\r\n      .get<any>(`https://vimeo.com/api/oembed.json?url=${videoUrl}`)\r\n      .subscribe((data) => {\r\n        const imageUrl = data.thumbnail_url_with_play_button;\r\n        const thumbnail = `<div>\r\n        <a href='${videoUrl}' target='_blank'>\r\n          <img src=\"${imageUrl}\" alt=\"${data.title}\"/>\r\n        </a>\r\n      </div>`;\r\n        this.insertHtml(thumbnail);\r\n        sub.unsubscribe();\r\n      });\r\n  }\r\n\r\n  nextNode(node: any) {\r\n    if (node.hasChildNodes()) {\r\n      return node.firstChild;\r\n    } else {\r\n      while (node && !node.nextSibling) {\r\n        node = node.parentNode;\r\n      }\r\n      if (!node) {\r\n        return null;\r\n      }\r\n      return node.nextSibling;\r\n    }\r\n  }\r\n\r\n  getRangeSelectedNodes(range, includePartiallySelectedContainers) {\r\n    let node = range.startContainer;\r\n    const endNode = range.endContainer;\r\n    let rangeNodes = [] as any[];\r\n\r\n    // Special case for a range that is contained within a single node\r\n    if (node === endNode) {\r\n      rangeNodes = [node];\r\n    } else {\r\n      // Iterate nodes until we hit the end container\r\n      while (node && node !== endNode) {\r\n        rangeNodes.push((node = this.nextNode(node)));\r\n      }\r\n\r\n      // Add partially selected nodes at the start of the range\r\n      node = range.startContainer;\r\n      while (node && node !== range.commonAncestorContainer) {\r\n        rangeNodes.unshift(node);\r\n        node = node.parentNode;\r\n      }\r\n    }\r\n\r\n    // Add ancestors of the range container, if required\r\n    if (includePartiallySelectedContainers) {\r\n      node = range.commonAncestorContainer;\r\n      while (node) {\r\n        rangeNodes.push(node);\r\n        node = node.parentNode;\r\n      }\r\n    }\r\n\r\n    return rangeNodes;\r\n  }\r\n\r\n  getSelectedNodes() {\r\n    const nodes = [] as any[];\r\n    if (this.doc.getSelection) {\r\n      const sel = this.doc.getSelection() as Selection;\r\n      for (let i = 0, len = sel.rangeCount; i < len; ++i) {\r\n        nodes.push.apply(\r\n          nodes,\r\n          this.getRangeSelectedNodes(sel.getRangeAt(i), true),\r\n        );\r\n      }\r\n    }\r\n    return nodes;\r\n  }\r\n\r\n  replaceWithOwnChildren(el) {\r\n    const parent = el.parentNode;\r\n    while (el.hasChildNodes()) {\r\n      parent.insertBefore(el.firstChild, el);\r\n    }\r\n    parent.removeChild(el);\r\n  }\r\n\r\n  removeSelectedElements(tagNames) {\r\n    const tagNamesArray = tagNames.toLowerCase().split(',');\r\n    this.getSelectedNodes().forEach((node) => {\r\n      if (\r\n        node.nodeType === 1 &&\r\n        tagNamesArray.indexOf(node.tagName.toLowerCase()) > -1\r\n      ) {\r\n        this.replaceWithOwnChildren(node);\r\n      }\r\n    });\r\n  }\r\n\r\n  getInnerTextFromNode(node: HTMLElement): string | null {\r\n    if (!node) return null;\r\n    if (node.innerText) {\r\n      return node.innerText;\r\n    }\r\n    const text = [];\r\n    for (let child of Array.from(node.childNodes)) {\r\n      text.push(child.textContent);\r\n    }\r\n    return text.join('');\r\n  }\r\n\r\n  getInnerHTMLFromNode(node: HTMLElement): string | null {\r\n    if (!node) return null;\r\n    if (node.innerHTML) {\r\n      return node.innerHTML;\r\n    }\r\n    let combinedInnerHTML = '';\r\n    for (let i = 0; i < node.childNodes.length; i++) {\r\n      const childNode = node.childNodes[i] as HTMLElement;\r\n      if (childNode.nodeType === 1) {\r\n        combinedInnerHTML += childNode.innerHTML;\r\n      }\r\n    }\r\n    return combinedInnerHTML;\r\n  }\r\n\r\n  getFirstParentWithProperty(node: any, className: string) {\r\n    if (!node) return null;\r\n    if (node.classList?.contains(className)) {\r\n      return node;\r\n    }\r\n    return this.getFirstParentWithProperty(node.parentNode, className);\r\n  }\r\n\r\n  getCurrentSelection() {\r\n    const selection = this.doc.getSelection();\r\n    if (selection && selection.rangeCount > 0) {\r\n      return selection.getRangeAt(0);\r\n    }\r\n    return null;\r\n  }\r\n}\r\n","import { UploadResponse } from './angular-editor.service';\r\nimport { HttpEvent } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nexport interface CustomClass {\r\n  name: string;\r\n  class: string;\r\n  tag?: string;\r\n}\r\n\r\nexport interface Font {\r\n  name: string;\r\n  class: string;\r\n  label?: string;\r\n}\r\n\r\nexport interface AngularEditorConfig {\r\n  editable?: boolean;\r\n  spellcheck?: boolean;\r\n  height?: 'auto' | string;\r\n  minHeight?: '0' | string;\r\n  maxHeight?: 'auto' | string;\r\n  /**\r\n   * @description background-color property of the editor textarea element\r\n   * @default 'white'\r\n   */\r\n  textAreaBackgroundColor?: string;\r\n  width?: 'auto' | string;\r\n  minWidth?: '0' | string;\r\n  translate?: 'yes' | 'now' | string;\r\n  enableToolbar?: boolean;\r\n  showToolbar?: boolean;\r\n  placeholder?: string;\r\n  defaultParagraphSeparator?: string;\r\n  defaultFontName?: string;\r\n  defaultFontSize?: '1' | '2' | '3' | '4' | '5' | '6' | '7' | string;\r\n  uploadUrl?: string;\r\n  upload?: (file: File) => Observable<HttpEvent<UploadResponse>>;\r\n  uploadWithCredentials?: boolean;\r\n  fonts?: Font[];\r\n  customClasses?: CustomClass[];\r\n  sanitize?: boolean;\r\n  toolbarPosition?: 'top' | 'bottom';\r\n  /**\r\n   * @description show outline on textarea when on focus\r\n   * @default true\r\n   */\r\n  outline?: boolean;\r\n  toolbarHiddenButtons?: string[][];\r\n  rawPaste?: boolean;\r\n  editHistoryLimit?: number;\r\n  /**\r\n   *  @description Number indicating how fast mouse drag will cause image to resize\r\n   *  @default 2\r\n   */\r\n  imageResizeSensitivity?: number;\r\n  /**\r\n   * @description Enable or disable text patter checks example '> ' and '* '\r\n   * @default true\r\n   */\r\n  textPatternsEnabled?: boolean;\r\n}\r\n\r\nexport const angularEditorConfig: AngularEditorConfig = {\r\n  editable: true,\r\n  spellcheck: true,\r\n  height: 'auto',\r\n  minHeight: '0',\r\n  maxHeight: 'auto',\r\n  textAreaBackgroundColor: 'white',\r\n  width: 'auto',\r\n  minWidth: '0',\r\n  translate: 'yes',\r\n  enableToolbar: true,\r\n  showToolbar: true,\r\n  placeholder: 'Enter text here...',\r\n  defaultParagraphSeparator: '',\r\n  defaultFontName: 'Arial',\r\n  defaultFontSize: '5',\r\n  fonts: [\r\n    { class: 'arial', name: 'Arial' },\r\n    { class: 'times-new-roman', name: 'Times New Roman' },\r\n    { class: 'calibri', name: 'Calibri' },\r\n    { class: 'comic-sans-ms', name: 'Comic Sans MS' },\r\n    { class: 'verdana', name: 'Verdana' },\r\n    { class: 'roboto-regular', name: 'Roboto' },\r\n  ],\r\n  // uploadUrl: 'v1/image',\r\n  uploadWithCredentials: false,\r\n  sanitize: true,\r\n  toolbarPosition: 'top',\r\n  outline: true,\r\n  /*toolbarHiddenButtons: [\r\n    ['bold', 'italic', 'underline', 'strikeThrough', 'superscript', 'subscript'],\r\n    ['heading', 'fontName', 'fontSize', 'color'],\r\n    ['justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull', 'indent', 'outdent'],\r\n    ['cut', 'copy', 'delete', 'removeFormat', 'undo', 'redo'],\r\n    ['paragraph', 'blockquote', 'removeBlockquote', 'horizontalLine', 'orderedList', 'unorderedList'],\r\n    ['link', 'unlink', 'image', 'video']\r\n  ]*/\r\n  editHistoryLimit: 50,\r\n  imageResizeSensitivity: 2,\r\n  textPatternsEnabled: true,\r\n};\r\n","export function isDefined(value: any) {\r\n  return value !== undefined && value !== null;\r\n}\r\n","/*\r\n * Public API Surface of angular-editor\r\n */\r\n\r\nexport * from './lib/angular-editor.service';\r\nexport * from './lib/angular-editor.component';\r\nexport * from './lib/ae-button/ae-button.component';\r\nexport * from './lib/ae-toolbar-set/ae-toolbar-set.component';\r\nexport * from './lib/ae-select/ae-select.component';\r\nexport * from './lib/angular-editor-toolbar.component';\r\nexport * from './lib/angular-editor.module';\r\nexport {\r\n  AngularEditorConfig,\r\n  CustomClass,\r\n  angularEditorConfig,\r\n} from './lib/config';\r\n"],"names":["HttpClient","FormBuilder","Validators","AngularEditorConfig","angularEditorConfig","i0","elementStart","listener","AppComponent_ng_template_6_Template_ae_button_buttonClick_1_listener","restoredCtx","restoreView","_r6","executeCommandFn_r4","executeCommandFn","ctx_r5","nextContext","resetView","angularEditorLogo","elementEnd","text","advance","textInterpolate","pipeBind1","conf_r7","value","elementContainerStart","template","AppComponent_ng_container_46_td_5_Template","AppComponent_ng_container_46_ng_template_6_Template","templateRefExtractor","elementContainerEnd","key","property","ctx_r2","isObject","_r11","AppComponent_ng_container_66_tr_1_td_4_Template_input_ngModelChange_1_listener","$event","_r20","conf_r14","$implicit","ctx_r19","config4","ctx_r17","AppComponent_ng_container_66_tr_1_td_5_Template_input_ngModelChange_1_listener","_r24","ctx_r23","ctx_r18","AppComponent_ng_container_66_tr_1_td_4_Template","AppComponent_ng_container_66_tr_1_td_5_Template","ctx_r16","getTypeofVariable","AppComponent_ng_container_66_tr_1_Template","ctx_r3","AppComponent","formBuilder","http","title","form","htmlContent1","htmlContent2","htmlContent3","config1","editable","spellcheck","minHeight","minWidth","textAreaBackgroundColor","placeholder","translate","sanitize","defaultFontName","defaultFontSize","fonts","class","name","label","customClasses","tag","editHistoryLimit","imageResizeSensitivity","config2","maxHeight","toolbarPosition","defaultParagraphSeparator","config3","constructor","ngOnInit","group","signature","required","onChange","event","console","log","onBlur","onChange2","warn","onChange3","val","directiveInject","i1","i2","selectors","decls","vars","consts","template","AppComponent_Template","rf","ctx","element","AppComponent_Template_angular_editor_ngModelChange_5_listener","AppComponent_Template_angular_editor_blur_5_listener","AppComponent_ng_template_6_Template","AppComponent_Template_angular_editor_ngModelChange_19_listener","AppComponent_ng_container_46_Template","AppComponent_Template_angular_editor_ngModelChange_56_listener","AppComponent_ng_container_66_Template","styleProp","status","BrowserModule","FormsModule","ReactiveFormsModule","HttpClientModule","AngularEditorModule","AppModule","bootstrap","declarations","imports","environment","production","enableProdMode","__NgCli_bootstrap_1","platformBrowser","bootstrapModule","catch","err","error","EventEmitter","AeButtonComponent","iconClass","buttonClick","inputs","outputs","AeButtonComponent_Template","AeButtonComponent_Template_button_click_0_listener","emit","classMap","ElementRef","forwardRef","Renderer2","NG_VALUE_ACCESSOR","isDefined","AeSelectComponent_button_8_Template_button_click_0_listener","item_r3","optionSelect","pureFunction2","_c1","ctx_r1","i_r4","optionId","textInterpolate1","AeSelectComponent","elRef","r","options","isHidden","selectedOption","disabled","hasOwnProperty","opened","hidden","changeEvent","labelButton","hide","option","stopPropagation","setValue","onTouched","toggleOpen","onClick","nativeElement","contains","target","close","isOpen","writeValue","index","selectedEl","find","el","i","registerOnChange","fn","registerOnTouched","setDisabledState","isDisabled","div","action","handleKeyDown","_handleArrowDown","_handleArrowUp","_handleSpace","_handleEnter","_handleTab","preventDefault","_handleBackspace","length","viewQuery","AeSelectComponent_Query","resolveDocument","AeSelectComponent_keydown_HostBindingHandler","provide","useExisting","multi","AeSelectComponent_Template","AeSelectComponent_Template_button_click_1_listener","namespaceSVG","namespaceHTML","AeSelectComponent_button_8_Template","AeSelectComponent_span_9_Template","pureFunction1","_c2","AeToolbarSetComponent","ngContentSelectors","_c0","AeToolbarSetComponent_Template","projection","AngularEditorService","DOCUMENT","AngularEditorToolbarComponent_div_0_div_55_Template_ae_select_ngModelChange_1_listener","customClassId","AngularEditorToolbarComponent_div_0_div_55_Template_ae_select_change_1_listener","ctx_r7","setCustomClass","customClassList","htmlMode","isButtonHidden","AngularEditorToolbarComponent_div_0_Template_button_click_2_listener","_r9","ctx_r8","triggerCommand","AngularEditorToolbarComponent_div_0_Template_button_click_4_listener","ctx_r10","AngularEditorToolbarComponent_div_0_Template_button_click_7_listener","ctx_r11","AngularEditorToolbarComponent_div_0_Template_button_click_9_listener","ctx_r12","AngularEditorToolbarComponent_div_0_Template_button_click_11_listener","ctx_r13","AngularEditorToolbarComponent_div_0_Template_button_click_13_listener","ctx_r14","AngularEditorToolbarComponent_div_0_Template_button_click_15_listener","ctx_r15","AngularEditorToolbarComponent_div_0_Template_button_click_17_listener","AngularEditorToolbarComponent_div_0_Template_button_click_20_listener","AngularEditorToolbarComponent_div_0_Template_button_click_22_listener","AngularEditorToolbarComponent_div_0_Template_button_click_24_listener","AngularEditorToolbarComponent_div_0_Template_button_click_26_listener","ctx_r20","AngularEditorToolbarComponent_div_0_Template_button_click_29_listener","ctx_r21","AngularEditorToolbarComponent_div_0_Template_button_click_31_listener","ctx_r22","AngularEditorToolbarComponent_div_0_Template_button_click_34_listener","AngularEditorToolbarComponent_div_0_Template_button_click_36_listener","ctx_r24","AngularEditorToolbarComponent_div_0_Template_ae_select_ngModelChange_39_listener","ctx_r25","block","AngularEditorToolbarComponent_div_0_Template_ae_select_change_39_listener","ctx_r26","AngularEditorToolbarComponent_div_0_Template_ae_select_ngModelChange_41_listener","ctx_r27","fontName","AngularEditorToolbarComponent_div_0_Template_ae_select_change_41_listener","ctx_r28","setFontName","AngularEditorToolbarComponent_div_0_Template_ae_select_ngModelChange_43_listener","ctx_r29","fontSize","AngularEditorToolbarComponent_div_0_Template_ae_select_change_43_listener","ctx_r30","setFontSize","AngularEditorToolbarComponent_div_0_Template_input_change_45_listener","_r1","reference","ctx_r31","insertColor","AngularEditorToolbarComponent_div_0_Template_button_click_47_listener","ctx_r32","focus","click","AngularEditorToolbarComponent_div_0_Template_input_change_50_listener","_r2","ctx_r33","AngularEditorToolbarComponent_div_0_Template_button_click_52_listener","ctx_r34","AngularEditorToolbarComponent_div_0_div_55_Template","AngularEditorToolbarComponent_div_0_Template_button_click_57_listener","ctx_r35","insertUrl","AngularEditorToolbarComponent_div_0_Template_button_click_59_listener","ctx_r36","AngularEditorToolbarComponent_div_0_Template_input_change_61_listener","ctx_r37","onFileChanged","AngularEditorToolbarComponent_div_0_Template_button_click_63_listener","_r4","ctx_r38","AngularEditorToolbarComponent_div_0_Template_button_click_65_listener","ctx_r39","insertVideo","AngularEditorToolbarComponent_div_0_Template_button_click_67_listener","ctx_r40","AngularEditorToolbarComponent_div_0_Template_button_click_70_listener","ctx_r41","AngularEditorToolbarComponent_div_0_Template_button_click_73_listener","ctx_r42","ctx_r0","id","headings","fontSizes","_customClasses","isLinkButtonDisabled","linkSelected","AngularEditorToolbarComponent","editorService","er","doc","foreColour","backColor","tagMap","BLOCKQUOTE","A","select","buttons","uploadUrl","upload","showToolbar","classes","map","x","toString","unshift","hiddenButtons","execute","myInputFile","Boolean","selectedText","command","triggerButtons","forEach","e","result","queryCommandState","elementById","getElementById","addClass","removeClass","triggerBlocks","nodes","findIndex","nodeName","found","y","node","undefined","toLowerCase","Element","className","Object","keys","queryCommandValue","replace","url","selection","savedSelection","commonAncestorContainer","parentElement","parent","href","prompt","createLink","color","where","foreColor","setEditorMode","m","toggleEditorModeButton","files","file","type","includes","subscribe","response","watchUploadImage","uploadImage","reader","FileReader","onload","fr","currentTarget","insertImage","readAsDataURL","body","imageUrl","srcElement","classId","createCustomClass","Array","arr","item","AngularEditorToolbarComponent_Query","AngularEditorToolbarComponent_div_0_Template","ChangeDetectorRef","SecurityContext","TemplateRef","DomSanitizer","Subject","throttleTime","AngularEditorComponent_angular_editor_toolbar_2_Template_angular_editor_toolbar_execute_0_listener","_r7","ctx_r6","executeCommand","elementContainer","config","getFonts","toolbarHiddenButtons","customButtonsTemplateRef","_c4","AngularEditorComponent_angular_editor_toolbar_9_Template_angular_editor_toolbar_execute_0_listener","_r10","ctx_r9","ctx_r4","AngularEditorComponent","sanitizer","cdRef","autoFocus","modeVisual","showPlaceholder","focused","touched","changed","mouseMoveEvtListener","currentSelectedImage","editSubject","editHistory","currentHistoryIndex","focusInstance","blurInstance","tabIndex","html","textArea","editorWrapper","editorToolbar","bind","viewMode","blurEvent","focusEvent","tabindex","onFocus","preventContextMenu","unselectImage","tagName","addResizeWrapper","selectImage","onContentChange","runFontNameAndSizeCheck","defaultTabIndex","parsedTabIndex","Number","pipe","leading","trailing","addHistory","textPatternsEnabled","currentFontName","currentFontSize","ngAfterViewInit","ePos","resizeImage","currentSelected","renderer2","resizeSensitivity","currX","clientX","dx","nextWidth","width","setAttribute","toStart","getSelection","removeAllRanges","range","createRange","parentNode","selectNode","collapse","addRange","setStyle","classList","wrapper","createElement","insertBefore","removeChild","appendChild","listen","removeResizeWrapper","wrappers","getElementsByClassName","replaceWithOwnChildren","onPaste","rawPaste","text","clipboardData","getData","document","execCommand","setContentAsCode","editableElement","oContent","createText","innerHTML","setProperty","oPre","oCode","onTextAreaFocus","onTextAreaBlur","setElementState","state","ctrlZ","ctrlShiftZ","handleEnter","sel","focusNode","quoteParent","getFirstParentWithProperty","previousSibling","previousSiblingInnerText","getInnerTextFromNode","trim","quoteParentInnerText","toggleEditorMode","removeSelectedElements","getCustomTags","exec","executeInNextQueueIteration","configure","onTextAreaMouseOut","saveSelection","relatedTarget","hasParentTag","element","tagNames","isCurrentSelectionHeader","rangeCount","edRange","getRangeAt","edNode","isHeader","deepRemoveAttribute","attr","removeAttribute","sourceText","shift","push","addChangeToHistory","innerText","HTML","togglePlaceholder","next","refreshView","normalizedValue","bToSource","selectNodeContents","firstChild","textPatternCheck","txtData","anchorNode","textContent","textPatternsMap","offsets","patternDetected","anchorOffset","deleteContents","justifyRightOrCenterEnabled","previousSiblingTxtData","userSelection","a","els","currentSelection","getCurrentSelection","fontNameInEditor","currentFontNameInEditor","fontSizeInEditor","currentFontSizeInEditor","collapsed","uploadWithCredentials","setDefaultParagraphSeparator","tags","join","ngOnDestroy","filterStyles","nodeType","computedStyle","getComputedStyle","fontname","fontFamily","injectAttribute","contentQueries","AngularEditorComponent_ContentQueries","dirIndex","AngularEditorComponent_contextmenu_HostBindingHandler","AngularEditorComponent_click_HostBindingHandler","resolveWindow","AngularEditorComponent_Template","AngularEditorComponent_angular_editor_toolbar_2_Template","AngularEditorComponent_Template_div_input_5_listener","AngularEditorComponent_Template_div_focus_5_listener","AngularEditorComponent_Template_div_blur_5_listener","AngularEditorComponent_Template_div_click_5_listener","AngularEditorComponent_Template_div_keydown_5_listener","AngularEditorComponent_Template_div_keyup_5_listener","AngularEditorComponent_Template_div_mouseout_5_listener","AngularEditorComponent_Template_div_paste_5_listener","AngularEditorComponent_Template_div_keydown_control_z_5_listener","AngularEditorComponent_Template_div_keydown_control_shift_z_5_listener","AngularEditorComponent_Template_div_keyup_enter_5_listener","AngularEditorComponent_angular_editor_toolbar_9_Template","height","outline","attribute","CommonModule","exports","commands","newUrl","insertHtml","restored","restoreSelection","isHTMLInserted","Error","callbackFn","timeout","setTimeout","uploadData","FormData","append","post","reportProgress","observe","withCredentials","separator","customClass","newTag","videoUrl","match","insertYouTubeVideoTag","insertVimeoVideoTag","split","thumbnail","sub","get","data","thumbnail_url_with_play_button","unsubscribe","nextNode","hasChildNodes","nextSibling","getRangeSelectedNodes","includePartiallySelectedContainers","startContainer","endNode","endContainer","rangeNodes","getSelectedNodes","len","apply","tagNamesArray","indexOf","child","from","childNodes","getInnerHTMLFromNode","combinedInnerHTML","childNode","inject","factory","fac","enableToolbar"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}